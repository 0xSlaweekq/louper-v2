import{S as at,i as ct,s as ut,l as S,r as x,a as F,X as fe,m as P,n as N,u as q,h as m,c as H,Y as de,p as d,b as j,J as g,K as le,v as he,E as ge,T as Qe,a1 as Et,e as Se,I as Hn,Z as ft,a2 as dt,a3 as Ys,a4 as $s,a5 as eo,a6 as Ke,f as K,g as Oe,t as te,d as Be,P as ws,a7 as en,a8 as xn,a9 as vs,aa as to,ab as ks,w as xe,x as qe,y as We,B as Ge,U as je,F as Pn,ac as no,o as ro,ad as $e,ae as so,af as et}from"../../chunks/index-60e91ee9.js";import{b as qn,d as tn,L as an,a as Wn,e as oo,g as lo}from"../../chunks/utils-02b99c67.js";import{H as io}from"../../chunks/Header-3f89fb0b.js";import{L as Y,s as wt,a as ys,B as be,i as tt,g as Gn,h as Xe,A as nn,b as ao,c as An,d as jt,e as Ut,f as co,P as zn,j as Pe,l as Bt,m as Lt,n as uo,o as On,r as Je,q as ot,u as pt,v as Zt,F as fo,w as Es,x as rn,y as ho,z as Dt,D as Jn,H as mo,E as Ns,t as sn,G as Kn,I as Bn,J as go,S as _o,K as Xn,C as Ln,M as Dn,N as po,k as bo,Q as wo,p as Cs,O as vo,T as Zn}from"../../chunks/profile-6451de8a.js";import{logs as Ts}from"named-logs";import{N as Rt}from"../../chunks/config-6ab55e8e.js";import"../../chunks/preload-helper-7005f741.js";import"../../chunks/singletons-eca981c1.js";const Wt="providers/5.6.0",Ct=new Y(Wt);class Z{constructor(){Ct.checkNew(new.target,Z),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},n=this.address.bind(this),r=this.bigNumber.bind(this),s=this.blockTag.bind(this),l=this.data.bind(this),i=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),u=this.type.bind(this),h=f=>this.data(f,!0);return t.transaction={hash:i,type:u,accessList:Z.allowNull(this.accessList.bind(this),null),blockHash:Z.allowNull(i,null),blockNumber:Z.allowNull(c,null),transactionIndex:Z.allowNull(c,null),confirmations:Z.allowNull(c,null),from:n,gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),gasLimit:r,to:Z.allowNull(n,null),value:r,nonce:c,data:l,r:Z.allowNull(this.uint256),s:Z.allowNull(this.uint256),v:Z.allowNull(c),creates:Z.allowNull(n,null),raw:Z.allowNull(l)},t.transactionRequest={from:Z.allowNull(n),nonce:Z.allowNull(c),gasLimit:Z.allowNull(r),gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),to:Z.allowNull(n),value:Z.allowNull(r),data:Z.allowNull(h),type:Z.allowNull(c),accessList:Z.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:i,address:n,topics:Z.arrayOf(i),data:l,logIndex:c,blockHash:i},t.receipt={to:Z.allowNull(this.address,null),from:Z.allowNull(this.address,null),contractAddress:Z.allowNull(n,null),transactionIndex:c,root:Z.allowNull(a),gasUsed:r,logsBloom:Z.allowNull(l),blockHash:i,transactionHash:i,logs:Z.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Z.allowNull(c,null),cumulativeGasUsed:r,effectiveGasPrice:Z.allowNull(r),status:Z.allowNull(c),type:u},t.block={hash:Z.allowNull(i),parentHash:i,number:c,timestamp:c,nonce:Z.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Z.allowNull(n),extraData:l,transactions:Z.allowNull(Z.arrayOf(i)),baseFeePerGas:Z.allowNull(r)},t.blockWithTransactions=wt(t.block),t.blockWithTransactions.transactions=Z.allowNull(Z.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Z.allowNull(s,void 0),toBlock:Z.allowNull(s,void 0),blockHash:Z.allowNull(i,void 0),address:Z.allowNull(n,void 0),topics:Z.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Z.allowNull(c),blockHash:Z.allowNull(i),transactionIndex:c,removed:Z.allowNull(this.boolean.bind(this)),address:n,data:Z.allowFalsish(l,"0x"),topics:Z.arrayOf(i),transactionHash:i,logIndex:c},t}accessList(t){return ys(t||[])}number(t){return t==="0x"?0:be.from(t).toNumber()}type(t){return t==="0x"||t==null?0:be.from(t).toNumber()}bigNumber(t){return be.from(t)}boolean(t){if(typeof t=="boolean")return t;if(typeof t=="string"){if(t=t.toLowerCase(),t==="true")return!0;if(t==="false")return!1}throw new Error("invalid boolean - "+t)}hex(t,n){return typeof t=="string"&&(!n&&t.substring(0,2)!=="0x"&&(t="0x"+t),tt(t))?t.toLowerCase():Ct.throwArgumentError("invalid hash","value",t)}data(t,n){const r=this.hex(t,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return Gn(t)}callAddress(t){if(!tt(t,32))return null;const n=Gn(Xe(t,12));return n===nn?null:n}contractAddress(t){return ao(t)}blockTag(t){if(t==null)return"latest";if(t==="earliest")return"0x0";if(t==="latest"||t==="pending")return t;if(typeof t=="number"||tt(t))return An(t);throw new Error("invalid blockTag")}hash(t,n){const r=this.hex(t,n);return jt(r)!==32?Ct.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(t==null)return null;const n=be.from(t);try{return n.toNumber()}catch{}return null}uint256(t){if(!tt(t))throw new Error("invalid uint256");return Ut(t,32)}_block(t,n){t.author!=null&&t.miner==null&&(t.miner=t.author);const r=t._difficulty!=null?t._difficulty:t.difficulty,s=Z.check(n,t);return s._difficulty=r==null?null:be.from(r),s}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Z.check(this.formats.transactionRequest,t)}transactionResponse(t){t.gas!=null&&t.gasLimit==null&&(t.gasLimit=t.gas),t.to&&be.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),t.input!=null&&t.data==null&&(t.data=t.input),t.to==null&&t.creates==null&&(t.creates=this.contractAddress(t)),(t.type===1||t.type===2)&&t.accessList==null&&(t.accessList=[]);const n=Z.check(this.formats.transaction,t);if(t.chainId!=null){let r=t.chainId;tt(r)&&(r=be.from(r).toNumber()),n.chainId=r}else{let r=t.networkId;r==null&&n.v==null&&(r=t.chainId),tt(r)&&(r=be.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(t){return co(t)}receiptLog(t){return Z.check(this.formats.receiptLog,t)}receipt(t){const n=Z.check(this.formats.receipt,t);if(n.root!=null)if(n.root.length<=4){const r=be.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&Ct.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):Ct.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&Ct.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(t){return Array.isArray(t)?t.map(n=>this.topics(n)):t!=null?this.hash(t,!0):null}filter(t){return Z.check(this.formats.filter,t)}filterLog(t){return Z.check(this.formats.filterLog,t)}static check(t,n){const r={};for(const s in t)try{const l=t[s](n[s]);l!==void 0&&(r[s]=l)}catch(l){throw l.checkKey=s,l.checkValue=n[s],l}return r}static allowNull(t,n){return function(r){return r==null?n:t(r)}}static allowFalsish(t,n){return function(r){return r?t(r):n}}static arrayOf(t){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(s){r.push(t(s))}),r}}}var oe=globalThis&&globalThis.__awaiter||function(o,t,n,r){function s(l){return l instanceof n?l:new n(function(i){i(l)})}return new(n||(n=Promise))(function(l,i){function a(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?l(h.value):s(h.value).then(a,c)}u((r=r.apply(o,t||[])).next())})};const ie=new Y(Wt),ko=10;function Qn(o){return o==null?"null":(jt(o)!==32&&ie.throwArgumentError("invalid topic","topic",o),o.toLowerCase())}function Yn(o){for(o=o.slice();o.length>0&&o[o.length-1]==null;)o.pop();return o.map(t=>{if(Array.isArray(t)){const n={};t.forEach(s=>{n[Qn(s)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return Qn(t)}).join("&")}function yo(o){return o===""?[]:o.split(/&/g).map(t=>{if(t==="")return[];const n=t.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function Tt(o){if(typeof o=="string"){if(o=o.toLowerCase(),jt(o)===32)return"tx:"+o;if(o.indexOf(":")===-1)return o}else{if(Array.isArray(o))return"filter:*:"+Yn(o);if(fo.isForkEvent(o))throw ie.warn("not implemented"),new Error("not implemented");if(o&&typeof o=="object")return"filter:"+(o.address||"*")+":"+Yn(o.topics||[])}throw new Error("invalid event - "+o)}function Pt(){return new Date().getTime()}function $n(o){return new Promise(t=>{setTimeout(t,o)})}const Eo=["block","network","pending","poll"];class No{constructor(t,n,r){Pe(this,"tag",t),Pe(this,"listener",n),Pe(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return t[0]!=="tx"?null:t[1]}get filter(){const t=this.tag.split(":");if(t[0]!=="filter")return null;const n=t[1],r=yo(t[2]),s={};return r.length>0&&(s.topics=r),n&&n!=="*"&&(s.address=n),s}pollable(){return this.tag.indexOf(":")>=0||Eo.indexOf(this.tag)>=0}}const Co={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function gn(o){return Ut(be.from(o).toHexString(),32)}function er(o){return Ns.encode(Dt([o,Xe(Kn(Kn(o)),0,4)]))}const Is=new RegExp("^(ipfs)://(.*)$","i"),tr=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Is,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Qt(o,t){try{return Es(Ft(o,t))}catch{}return null}function Ft(o,t){if(o==="0x")return null;const n=be.from(Xe(o,t,t+32)).toNumber(),r=be.from(Xe(o,n,n+32)).toNumber();return Xe(o,n+32,n+32+r)}function _n(o){return o.match(/^ipfs:\/\/ipfs\//i)?o=o.substring(12):o.match(/^ipfs:\/\//i)?o=o.substring(7):ie.throwArgumentError("unsupported IPFS format","link",o),`https://gateway.ipfs.io/ipfs/${o}`}function nr(o){const t=rn(o);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function To(o){if(o.length%32===0)return o;const t=new Uint8Array(Math.ceil(o.length/32)*32);return t.set(o),t}function Rs(o){const t=[];let n=0;for(let r=0;r<o.length;r++)t.push(null),n+=32;for(let r=0;r<o.length;r++){const s=rn(o[r]);t[r]=nr(n),t.push(nr(s.length)),t.push(To(s)),n+=32+Math.ceil(s.length/32)*32}return pt(t)}class rr{constructor(t,n,r,s){Pe(this,"provider",t),Pe(this,"name",r),Pe(this,"address",t.formatter.address(n)),Pe(this,"_resolvedAddress",s)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(t=>be.from(t).eq(1)).catch(t=>{if(t.code===Y.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t})),this._supportsEip2544}_fetch(t,n){return oe(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:pt([t,Zt(this.name),n||"0x"])};let s=!1;(yield this.supportsWildcard())&&(s=!0,r.data=pt(["0x9061b923",Rs([ho(this.name),r.data])]));try{let l=yield this.provider.call(r);return rn(l).length%32===4&&ie.throwError("resolver threw error",Y.errors.CALL_EXCEPTION,{transaction:r,data:l}),s&&(l=Ft(l,0)),l}catch(l){if(l.code===Y.errors.CALL_EXCEPTION)return null;throw l}})}_fetchBytes(t,n){return oe(this,void 0,void 0,function*(){const r=yield this._fetch(t,n);return r!=null?Ft(r,0):null})}_getAddress(t,n){const r=Co[String(t)];if(r==null&&ie.throwError(`unsupported coin type: ${t}`,Y.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),r.ilk==="eth")return this.provider.formatter.address(n);const s=rn(n);if(r.p2pkh!=null){const l=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(l){const i=parseInt(l[1],16);if(l[2].length===i*2&&i>=1&&i<=75)return er(Dt([[r.p2pkh],"0x"+l[2]]))}}if(r.p2sh!=null){const l=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(l){const i=parseInt(l[1],16);if(l[2].length===i*2&&i>=1&&i<=75)return er(Dt([[r.p2sh],"0x"+l[2]]))}}if(r.prefix!=null){const l=s[1];let i=s[0];if(i===0?l!==20&&l!==32&&(i=-1):i=-1,i>=0&&s.length===2+l&&l>=1&&l<=75){const a=Jn.toWords(s.slice(2));return a.unshift(i),Jn.encode(r.prefix,a)}}return null}getAddress(t){return oe(this,void 0,void 0,function*(){if(t==null&&(t=60),t===60)try{const s=yield this._fetch("0x3b3b57de");return s==="0x"||s===mo?null:this.provider.formatter.callAddress(s)}catch(s){if(s.code===Y.errors.CALL_EXCEPTION)return null;throw s}const n=yield this._fetchBytes("0xf1cb7e06",gn(t));if(n==null||n==="0x")return null;const r=this._getAddress(t,n);return r==null&&ie.throwError("invalid or unsupported coin data",Y.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:n}),r})}getAvatar(){return oe(this,void 0,void 0,function*(){const t=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<tr.length;r++){const s=n.match(tr[r]);if(s==null)continue;const l=s[1].toLowerCase();switch(l){case"https":return t.push({type:"url",content:n}),{linkage:t,url:n};case"data":return t.push({type:"data",content:n}),{linkage:t,url:n};case"ipfs":return t.push({type:"ipfs",content:n}),{linkage:t,url:_n(n)};case"erc721":case"erc1155":{const i=l==="erc721"?"0xc87b56dd":"0x0e89341c";t.push({type:l,content:n});const a=this._resolvedAddress||(yield this.getAddress()),c=(s[2]||"").split("/");if(c.length!==2)return null;const u=yield this.provider.formatter.address(c[0]),h=Ut(be.from(c[1]).toHexString(),32);if(l==="erc721"){const w=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:pt(["0x6352211e",h])}));if(a!==w)return null;t.push({type:"owner",content:w})}else if(l==="erc1155"){const w=be.from(yield this.provider.call({to:u,data:pt(["0x00fdd58e",Ut(a,32),h])}));if(w.isZero())return null;t.push({type:"balance",content:w.toString()})}const f={to:this.provider.formatter.address(c[0]),data:pt([i,h])};let _=Qt(yield this.provider.call(f),0);if(_==null)return null;t.push({type:"metadata-url-base",content:_}),l==="erc1155"&&(_=_.replace("{id}",h.substring(2)),t.push({type:"metadata-url-expanded",content:_})),_.match(/^ipfs:/i)&&(_=_n(_)),t.push({type:"metadata-url",content:_});const p=yield On(_);if(!p)return null;t.push({type:"metadata",content:JSON.stringify(p)});let b=p.image;if(typeof b!="string")return null;if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(Is)==null)return null;t.push({type:"url-ipfs",content:b}),b=_n(b)}return t.push({type:"url",content:b}),{linkage:t,url:b}}}}}catch{}return null})}getContentHash(){return oe(this,void 0,void 0,function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(t==null||t==="0x")return null;const n=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipfs://"+Ns.encode("0x"+n[1])}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&r[1].length===32*2?"bzz://"+r[1]:ie.throwError("invalid or unsupported content hash data",Y.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})})}getText(t){return oe(this,void 0,void 0,function*(){let n=sn(t);n=Dt([gn(64),gn(n.length),n]),n.length%32!==0&&(n=Dt([n,Ut("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",ot(n));return r==null||r==="0x"?null:Es(r)})}}let pn=null,Io=1;class Ro extends zn{constructor(t){if(ie.checkNew(new.target,zn),super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Pe(this,"anyNetwork",t==="any"),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(n=>{}),this._ready().catch(n=>{});else{const n=Bt(new.target,"getNetwork")(t);n?(Pe(this,"_network",n),this.emit("network",n,null)):ie.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return oe(this,void 0,void 0,function*(){if(this._network==null){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch{}t==null&&(t=yield this.detectNetwork()),t||ie.throwError("no network detected",Y.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=t:Pe(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return Lt(()=>this._ready().then(t=>t,t=>{if(!(t.code===Y.errors.NETWORK_ERROR&&t.event==="noNetwork"))throw t}))}static getFormatter(){return pn==null&&(pn=new Z),pn}static getNetwork(t){return uo(t??"homestead")}ccipReadFetch(t,n,r){return oe(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const s=(t.from||"0x0000000000000000000000000000000000000000").toLowerCase(),l=n.toLowerCase(),i=[];for(let a=0;a<r.length;a++){const c=r[a],u=c.replace("{sender}",s).replace("{data}",l),h=c.indexOf("{data}")>=0?null:JSON.stringify({data:l,sender:s}),f=yield On({url:u,errorPassThrough:!0},h,(p,b)=>(p.status=b.statusCode,p));if(f.data)return f.data;const _=f.message||"unknown error";if(f.status>=400&&f.status<500)return ie.throwError(`response not found during CCIP fetch: ${_}`,Y.errors.SERVER_ERROR,{url:c,errorMessage:_});i.push(_)}return ie.throwError(`error encountered during CCIP fetch: ${i.map(a=>JSON.stringify(a)).join(", ")}`,Y.errors.SERVER_ERROR,{urls:r,errorMessages:i})})}_getInternalBlockNumber(t){return oe(this,void 0,void 0,function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const s=this._internalBlockNumber;try{const l=yield s;if(Pt()-l.respTime<=t)return l.blockNumber;break}catch{if(this._internalBlockNumber===s)break}}const n=Pt(),r=Je({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(s=>null,s=>s)}).then(({blockNumber:s,networkError:l})=>{if(l)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),l;const i=Pt();return s=be.from(s).toNumber(),s<this._maxInternalBlockNumber&&(s=this._maxInternalBlockNumber),this._maxInternalBlockNumber=s,this._setFastBlockNumber(s),{blockNumber:s,reqTime:n,respTime:i}});return this._internalBlockNumber=r,r.catch(s=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return oe(this,void 0,void 0,function*(){const t=Io++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(s){this.emit("error",s);return}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r===this._lastBlockNumber){this.emit("didPoll",t);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)ie.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",ie.makeError("network block skew detected",Y.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let s=this._emitted.block+1;s<=r;s++)this.emit("block",s);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(s=>{if(s==="block")return;const l=this._emitted[s];l!=="pending"&&r-l>12&&delete this._emitted[s]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(s=>{switch(s.type){case"tx":{const l=s.hash;let i=this.getTransactionReceipt(l).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+l]=a.blockNumber,this.emit(l,a)),null)).catch(a=>{this.emit("error",a)});n.push(i);break}case"filter":{if(!s._inflight){s._inflight=!0;const l=s.filter;l.fromBlock=s._lastBlockNumber+1,l.toBlock=r,l.toBlock-this._maxFilterBlockRange>l.fromBlock&&(l.fromBlock=l.toBlock-this._maxFilterBlockRange);const i=this.getLogs(l).then(a=>{s._inflight=!1,a.length!==0&&a.forEach(c=>{c.blockNumber>s._lastBlockNumber&&(s._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(l,c)})}).catch(a=>{this.emit("error",a),s._inflight=!1});n.push(i)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",t)}).catch(s=>{this.emit("error",s)})})}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return oe(this,void 0,void 0,function*(){return ie.throwError("provider does not support network detection",Y.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return oe(this,void 0,void 0,function*(){const t=yield this._ready(),n=yield this.detectNetwork();if(t.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,t),yield $n(0),this._network;const r=ie.makeError("underlying network changed",Y.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:n});throw this.emit("error",r),r}return t})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if(typeof t!="number"||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=Pt();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){this._fastBlockNumber!=null&&t<this._fastBlockNumber||(this._fastQueryDate=Pt(),(this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,n,r){return oe(this,void 0,void 0,function*(){return this._waitForTransaction(t,n??1,r||0,null)})}_waitForTransaction(t,n,r,s){return oe(this,void 0,void 0,function*(){const l=yield this.getTransactionReceipt(t);return(l?l.confirmations:0)>=n?l:new Promise((i,a)=>{const c=[];let u=!1;const h=function(){return u?!0:(u=!0,c.forEach(_=>{_()}),!1)},f=_=>{_.confirmations<n||h()||i(_)};if(this.on(t,f),c.push(()=>{this.removeListener(t,f)}),s){let _=s.startBlock,p=null;const b=w=>oe(this,void 0,void 0,function*(){u||(yield $n(1e3),this.getTransactionCount(s.from).then(B=>oe(this,void 0,void 0,function*(){if(!u){if(B<=s.nonce)_=w;else{{const k=yield this.getTransaction(t);if(k&&k.blockNumber!=null)return}for(p==null&&(p=_-3,p<s.startBlock&&(p=s.startBlock));p<=w;){if(u)return;const k=yield this.getBlockWithTransactions(p);for(let y=0;y<k.transactions.length;y++){const I=k.transactions[y];if(I.hash===t)return;if(I.from===s.from&&I.nonce===s.nonce){if(u)return;const C=yield this.waitForTransaction(I.hash,n);if(h())return;let D="replaced";I.data===s.data&&I.to===s.to&&I.value.eq(s.value)?D="repriced":I.data==="0x"&&I.from===I.to&&I.value.isZero()&&(D="cancelled"),a(ie.makeError("transaction was replaced",Y.errors.TRANSACTION_REPLACED,{cancelled:D==="replaced"||D==="cancelled",reason:D,replacement:this._wrapTransaction(I),hash:t,receipt:C}));return}}p++}}u||this.once("block",b)}}),B=>{u||this.once("block",b)}))});if(u)return;this.once("block",b),c.push(()=>{this.removeListener("block",b)})}if(typeof r=="number"&&r>0){const _=setTimeout(()=>{h()||a(ie.makeError("timeout exceeded",Y.errors.TIMEOUT,{timeout:r}))},r);_.unref&&_.unref(),c.push(()=>{clearTimeout(_)})}})})}getBlockNumber(){return oe(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return be.from(t)}catch(n){return ie.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:n})}})}getBalance(t,n){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Je({address:this._getAddress(t),blockTag:this._getBlockTag(n)}),s=yield this.perform("getBalance",r);try{return be.from(s)}catch(l){return ie.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getBalance",params:r,result:s,error:l})}})}getTransactionCount(t,n){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Je({address:this._getAddress(t),blockTag:this._getBlockTag(n)}),s=yield this.perform("getTransactionCount",r);try{return be.from(s).toNumber()}catch(l){return ie.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:s,error:l})}})}getCode(t,n){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Je({address:this._getAddress(t),blockTag:this._getBlockTag(n)}),s=yield this.perform("getCode",r);try{return ot(s)}catch(l){return ie.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getCode",params:r,result:s,error:l})}})}getStorageAt(t,n,r){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield Je({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(i=>An(i))}),l=yield this.perform("getStorageAt",s);try{return ot(l)}catch(i){return ie.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"getStorageAt",params:s,result:l,error:i})}})}_wrapTransaction(t,n,r){if(n!=null&&jt(n)!==32)throw new Error("invalid response - sendTransaction");const s=t;return n!=null&&t.hash!==n&&ie.throwError("Transaction hash mismatch from Provider.sendTransaction.",Y.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:n}),s.wait=(l,i)=>oe(this,void 0,void 0,function*(){l==null&&(l=1),i==null&&(i=0);let a;l!==0&&r!=null&&(a={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const c=yield this._waitForTransaction(t.hash,l,i,a);return c==null&&l===0?null:(this._emitted["t:"+t.hash]=c.blockNumber,c.status===0&&ie.throwError("transaction failed",Y.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:c}),c)}),s}sendTransaction(t){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(t).then(l=>ot(l)),r=this.formatter.transaction(t);r.confirmations==null&&(r.confirmations=0);const s=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const l=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,l,s)}catch(l){throw l.transaction=r,l.transactionHash=r.hash,l}})}_getTransactionRequest(t){return oe(this,void 0,void 0,function*(){const n=yield t,r={};return["from","to"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(l=>l?this._getAddress(l):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(l=>l?be.from(l):null))}),["type"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(l=>l??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(s=>{n[s]!=null&&(r[s]=Promise.resolve(n[s]).then(l=>l?ot(l):null))}),this.formatter.transactionRequest(yield Je(r))})}_getFilter(t){return oe(this,void 0,void 0,function*(){t=yield t;const n={};return t.address!=null&&(n.address=this._getAddress(t.address)),["blockHash","topics"].forEach(r=>{t[r]!=null&&(n[r]=t[r])}),["fromBlock","toBlock"].forEach(r=>{t[r]!=null&&(n[r]=this._getBlockTag(t[r]))}),this.formatter.filter(yield Je(n))})}_call(t,n,r){return oe(this,void 0,void 0,function*(){r>=ko&&ie.throwError("CCIP read exceeded maximum redirections",Y.errors.SERVER_ERROR,{redirects:r,transaction:t});const s=t.to,l=yield this.perform("call",{transaction:t,blockTag:n});if(r>=0&&n==="latest"&&s!=null&&l.substring(0,10)==="0x556f1830"&&jt(l)%32===4)try{const i=Xe(l,4),a=Xe(i,0,32);be.from(a).eq(s)||ie.throwError("CCIP Read sender did not match",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:l});const c=[],u=be.from(Xe(i,32,64)).toNumber(),h=be.from(Xe(i,u,u+32)).toNumber(),f=Xe(i,u+32);for(let k=0;k<h;k++){const y=Qt(f,k*32);y==null&&ie.throwError("CCIP Read contained corrupt URL string",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:l}),c.push(y)}const _=Ft(i,64);be.from(Xe(i,100,128)).isZero()||ie.throwError("CCIP Read callback selector included junk",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:l});const p=Xe(i,96,100),b=Ft(i,128),w=yield this.ccipReadFetch(t,_,c);w==null&&ie.throwError("CCIP Read disabled or provided no URLs",Y.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:l});const B={to:s,data:pt([p,Rs([w,b])])};return this._call(B,n,r+1)}catch(i){if(i.code===Y.errors.SERVER_ERROR)throw i}try{return ot(l)}catch(i){return ie.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:n},result:l,error:i})}})}call(t,n){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Je({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(t){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Je({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",n);try{return be.from(r)}catch(s){return ie.throwError("bad result from backend",Y.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:s})}})}_getAddress(t){return oe(this,void 0,void 0,function*(){t=yield t,typeof t!="string"&&ie.throwArgumentError("invalid address or ENS name","name",t);const n=yield this.resolveName(t);return n==null&&ie.throwError("ENS name not configured",Y.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),n})}_getBlock(t,n){return oe(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;let r=-128;const s={includeTransactions:!!n};if(tt(t,32))s.blockHash=t;else try{s.blockTag=yield this._getBlockTag(t),tt(s.blockTag)&&(r=parseInt(s.blockTag.substring(2),16))}catch{ie.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Lt(()=>oe(this,void 0,void 0,function*(){const l=yield this.perform("getBlock",s);if(l==null)return s.blockHash!=null&&this._emitted["b:"+s.blockHash]==null||s.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let i=null;for(let c=0;c<l.transactions.length;c++){const u=l.transactions[c];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){i==null&&(i=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=i-u.blockNumber+1;h<=0&&(h=1),u.confirmations=h}}const a=this.formatter.blockWithTransactions(l);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(l)}),{oncePoll:this})})}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return oe(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const n={transactionHash:this.formatter.hash(t,!0)};return Lt(()=>oe(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+t]==null?null:void 0;const s=this.formatter.transactionResponse(r);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let i=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;i<=0&&(i=1),s.confirmations=i}return this._wrapTransaction(s)}),{oncePoll:this})})}getTransactionReceipt(t){return oe(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const n={transactionHash:this.formatter.hash(t,!0)};return Lt(()=>oe(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+t]==null?null:void 0;if(r.blockHash==null)return;const s=this.formatter.receipt(r);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let i=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;i<=0&&(i=1),s.confirmations=i}return s}),{oncePoll:this})})}getLogs(t){return oe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Je({filter:this._getFilter(t)}),r=yield this.perform("getLogs",n);return r.forEach(s=>{s.removed==null&&(s.removed=!1)}),Z.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return oe(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(t){return oe(this,void 0,void 0,function*(){if(t=yield t,typeof t=="number"&&t<0){t%1&&ie.throwArgumentError("invalid BlockTag","blockTag",t);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=t,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(t)})}getResolver(t){return oe(this,void 0,void 0,function*(){let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const s=new rr(this,r,t);return n!==t&&!(yield s.supportsWildcard())?null:s}n=n.split(".").slice(1).join(".")}})}_getResolver(t,n){return oe(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||ie.throwError("network does not support ENS",Y.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const s=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Zt(t).substring(2)});return this.formatter.callAddress(s)}catch{}return null})}resolveName(t){return oe(this,void 0,void 0,function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(r){if(tt(t))throw r}typeof t!="string"&&ie.throwArgumentError("invalid ENS name","name",t);const n=yield this.getResolver(t);return n?yield n.getAddress():null})}lookupAddress(t){return oe(this,void 0,void 0,function*(){t=yield t,t=this.formatter.address(t);const n=t.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const s=Qt(yield this.call({to:r,data:"0x691f3431"+Zt(n).substring(2)}),0);return(yield this.resolveName(s))!=t?null:s})}getAvatar(t){return oe(this,void 0,void 0,function*(){let n=null;if(tt(t)){const l=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(l,"getAvatar");if(!i)return null;n=new rr(this,i,l);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==Y.errors.CALL_EXCEPTION)throw a}try{const a=Qt(yield this.call({to:i,data:"0x691f3431"+Zt(l).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==Y.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(t),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(t,n){return ie.throwError(t+" not implemented",Y.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(t,n,r){const s=new No(Tt(t),n,r);return this._events.push(s),this._startEvent(s),this}on(t,n){return this._addEventListener(t,n,!1)}once(t,n){return this._addEventListener(t,n,!0)}emit(t,...n){let r=!1,s=[],l=Tt(t);return this._events=this._events.filter(i=>i.tag!==l?!0:(setTimeout(()=>{i.listener.apply(this,n)},0),r=!0,i.once?(s.push(i),!1):!0)),s.forEach(i=>{this._stopEvent(i)}),r}listenerCount(t){if(!t)return this._events.length;let n=Tt(t);return this._events.filter(r=>r.tag===n).length}listeners(t){if(t==null)return this._events.map(r=>r.listener);let n=Tt(t);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(t,n){if(n==null)return this.removeAllListeners(t);const r=[];let s=!1,l=Tt(t);return this._events=this._events.filter(i=>i.tag!==l||i.listener!=n||s?!0:(s=!0,r.push(i),!1)),r.forEach(i=>{this._stopEvent(i)}),this}removeAllListeners(t){let n=[];if(t==null)n=this._events,this._events=[];else{const r=Tt(t);this._events=this._events.filter(s=>s.tag!==r?!0:(n.push(s),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var st=globalThis&&globalThis.__awaiter||function(o,t,n,r){function s(l){return l instanceof n?l:new n(function(i){i(l)})}return new(n||(n=Promise))(function(l,i){function a(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?l(h.value):s(h.value).then(a,c)}u((r=r.apply(o,t||[])).next())})};const Le=new Y(Wt),So=["call","estimateGas"];function Ss(o,t,n){if(o==="call"&&t.code===Y.errors.SERVER_ERROR){const l=t.error;if(l&&l.message.match("reverted")&&tt(l.data))return l.data;Le.throwError("missing revert data in call exception",Y.errors.CALL_EXCEPTION,{error:t,data:"0x"})}let r=t.message;t.code===Y.errors.SERVER_ERROR&&t.error&&typeof t.error.message=="string"?r=t.error.message:typeof t.body=="string"?r=t.body:typeof t.responseText=="string"&&(r=t.responseText),r=(r||"").toLowerCase();const s=n.transaction||n.signedTransaction;throw r.match(/insufficient funds|base fee exceeds gas limit/)&&Le.throwError("insufficient funds for intrinsic transaction cost",Y.errors.INSUFFICIENT_FUNDS,{error:t,method:o,transaction:s}),r.match(/nonce too low/)&&Le.throwError("nonce has already been used",Y.errors.NONCE_EXPIRED,{error:t,method:o,transaction:s}),r.match(/replacement transaction underpriced/)&&Le.throwError("replacement fee too low",Y.errors.REPLACEMENT_UNDERPRICED,{error:t,method:o,transaction:s}),r.match(/only replay-protected/)&&Le.throwError("legacy pre-eip-155 transactions not supported",Y.errors.UNSUPPORTED_OPERATION,{error:t,method:o,transaction:s}),So.indexOf(o)>=0&&r.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Le.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Y.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:o,transaction:s}),t}function sr(o){return new Promise(function(t){setTimeout(t,o)})}function Po(o){if(o.error){const t=new Error(o.error.message);throw t.code=o.error.code,t.data=o.error.data,t}return o.result}function At(o){return o&&o.toLowerCase()}const kn={};class cn extends _o{constructor(t,n,r){if(Le.checkNew(new.target,cn),super(),t!==kn)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Pe(this,"provider",n),r==null&&(r=0),typeof r=="string"?(Pe(this,"_address",this.provider.formatter.address(r)),Pe(this,"_index",null)):typeof r=="number"?(Pe(this,"_index",r),Pe(this,"_address",null)):Le.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return Le.throwError("cannot alter JSON-RPC Signer connection",Y.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Ao(kn,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&Le.throwError("unknown account #"+this._index,Y.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(t){t=wt(t);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(t.gasLimit==null){const r=wt(t);r.from=n,t.gasLimit=this.provider.estimateGas(r)}return t.to!=null&&(t.to=Promise.resolve(t.to).then(r=>st(this,void 0,void 0,function*(){if(r==null)return null;const s=yield this.provider.resolveName(r);return s==null&&Le.throwArgumentError("provided ENS name resolves to null","tx.to",r),s}))),Je({tx:Je(t),sender:n}).then(({tx:r,sender:s})=>{r.from!=null?r.from.toLowerCase()!==s&&Le.throwArgumentError("from address mismatch","transaction",t):r.from=s;const l=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[l]).then(i=>i,i=>Ss("sendTransaction",i,l))})}signTransaction(t){return Le.throwError("signing transactions is unsupported",Y.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return st(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield Lt(()=>st(this,void 0,void 0,function*(){const s=yield this.provider.getTransaction(r);if(s!==null)return this.provider._wrapTransaction(s,r,n)}),{oncePoll:this.provider})}catch(s){throw s.transactionHash=r,s}})}signMessage(t){return st(this,void 0,void 0,function*(){const n=typeof t=="string"?sn(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[ot(n),r.toLowerCase()])})}_legacySignMessage(t){return st(this,void 0,void 0,function*(){const n=typeof t=="string"?sn(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),ot(n)])})}_signTypedData(t,n,r){return st(this,void 0,void 0,function*(){const s=yield Xn.resolveNames(t,n,r,i=>this.provider.resolveName(i)),l=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[l.toLowerCase(),JSON.stringify(Xn.getPayload(s.domain,n,s.value))])})}unlock(t){return st(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),t,null])})}}class Ao extends cn{sendTransaction(t){return this.sendUncheckedTransaction(t).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const Oo={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class un extends Ro{constructor(t,n){Le.checkNew(new.target,un);let r=n;r==null&&(r=new Promise((s,l)=>{setTimeout(()=>{this.detectNetwork().then(i=>{s(i)},i=>{l(i)})},0)})),super(r),t||(t=Bt(this.constructor,"defaultUrl")()),typeof t=="string"?Pe(this,"connection",Object.freeze({url:t})):Pe(this,"connection",Object.freeze(wt(t))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return st(this,void 0,void 0,function*(){yield sr(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch{try{t=yield this.send("net_version",[])}catch{}}if(t!=null){const n=Bt(this.constructor,"getNetwork");try{return n(be.from(t).toNumber())}catch(r){return Le.throwError("could not detect network",Y.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:r})}}return Le.throwError("could not detect network",Y.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(t){return new cn(kn,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(n=>this.formatter.address(n)))}send(t,n){const r={method:t,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Bn(r),provider:this});const s=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(s&&this._cache[t])return this._cache[t];const l=On(this.connection,JSON.stringify(r),Po).then(i=>(this.emit("debug",{action:"response",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",error:i,request:r,provider:this}),i});return s&&(this._cache[t]=l,setTimeout(()=>{this._cache[t]=null},0)),l}prepareRequest(t,n){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[At(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[At(n.address),n.blockTag]];case"getCode":return["eth_getCode",[At(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[At(n.address),n.position,n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":{const r=Bt(this.constructor,"hexlifyTransaction");return["eth_call",[r(n.transaction,{from:!0}),n.blockTag]]}case"estimateGas":{const r=Bt(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[r(n.transaction,{from:!0})]]}case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=At(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(t,n){return st(this,void 0,void 0,function*(){if(t==="call"||t==="estimateGas"){const s=n.transaction;if(s&&s.type!=null&&be.from(s.type).isZero()&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const l=yield this.getFeeData();l.maxFeePerGas==null&&l.maxPriorityFeePerGas==null&&(n=wt(n),n.transaction=wt(s),delete n.transaction.type)}}const r=this.prepareRequest(t,n);r==null&&Le.throwError(t+" not implemented",Y.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(s){return Ss(t,s,n)}})}_startEvent(t){t.tag==="pending"&&this._startPending(),super._startEvent(t)}_startPending(){if(this._pendingFilter!=null)return;const t=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function s(){t.send("eth_getFilterChanges",[r]).then(function(l){if(t._pendingFilter!=n)return null;let i=Promise.resolve();return l.forEach(function(a){t._emitted["t:"+a.toLowerCase()]="pending",i=i.then(function(){return t.getTransaction(a).then(function(c){return t.emit("pending",c),null})})}),i.then(function(){return sr(1e3)})}).then(function(){if(t._pendingFilter!=n){t.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){s()},0),null}).catch(l=>{})}return s(),r}).catch(r=>{})}_stopEvent(t){t.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,n){const r=wt(Oo);if(n)for(const l in n)n[l]&&(r[l]=!0);go(t,r);const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(l){if(t[l]==null)return;const i=An(t[l]);l==="gasLimit"&&(l="gas"),s[l]=i}),["from","to","data"].forEach(function(l){t[l]!=null&&(s[l]=ot(t[l]))}),t.accessList&&(s.accessList=ys(t.accessList)),s}}const bn=new Y(Wt);let Bo=1;function or(o,t){const n="Web3LegacyFetcher";return function(r,s){const l={method:r,params:s,id:Bo++,jsonrpc:"2.0"};return new Promise((i,a)=>{this.emit("debug",{action:"request",fetcher:n,request:Bn(l),provider:this}),t(l,(c,u)=>{if(c)return this.emit("debug",{action:"response",fetcher:n,error:c,request:l,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:n,request:l,response:u,provider:this}),u.error){const h=new Error(u.error.message);return h.code=u.error.code,h.data=u.error.data,a(h)}i(u.result)})})}}function Lo(o){return function(t,n){n==null&&(n=[]);const r={method:t,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Bn(r),provider:this}),o.request(r).then(s=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:s,provider:this}),s})}}class Ht extends un{constructor(t,n){bn.checkNew(new.target,Ht),t==null&&bn.throwArgumentError("missing provider","provider",t);let r=null,s=null,l=null;typeof t=="function"?(r="unknown:",s=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),l=t,t.request?(r===""&&(r="eip-1193:"),s=Lo(t)):t.sendAsync?s=or(t,t.sendAsync.bind(t)):t.send?s=or(t,t.send.bind(t)):bn.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,n),Pe(this,"jsonRpcFetchFunc",s),Pe(this,"provider",l)}send(t,n){return this.jsonRpcFetchFunc(t,n)}}new Y(Wt);function lr(o,t,n){const r=o.slice();return r[10]=t[n],r}function ir(o){let t,n,r,s,l,i;return{c(){t=S("a"),n=x(`Verify
          `),r=fe("svg"),s=fe("path"),l=fe("path"),this.h()},l(a){t=P(a,"A",{class:!0,href:!0,target:!0});var c=N(t);n=q(c,`Verify
          `),r=de(c,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var u=N(r);s=de(u,"path",{d:!0}),N(s).forEach(m),l=de(u,"path",{d:!0}),N(l).forEach(m),u.forEach(m),c.forEach(m),this.h()},h(){d(s,"d","M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"),d(l,"d","M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"),d(r,"class","w-3 h-3 md:w-4 md:h-4 inline mb-1"),d(r,"fill","currentColor"),d(r,"viewBox","0 0 20 20"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(t,"class","inline-block text-primary uppercase font-bold"),d(t,"href",i=qn(o[5].address,o[4].network)),d(t,"target","_blank")},m(a,c){j(a,t,c),g(t,n),g(t,r),g(r,s),g(r,l)},p(a,c){c&48&&i!==(i=qn(a[5].address,a[4].network))&&d(t,"href",i)},d(a){a&&m(t)}}}function ar(o){let t,n,r=o[10].signature+"",s,l,i,a,c=o[10].selector+"",u,h;return{c(){t=S("tr"),n=S("td"),s=x(r),l=F(),i=S("td"),a=S("span"),u=x(c),h=F(),this.h()},l(f){t=P(f,"TR",{});var _=N(t);n=P(_,"TD",{});var p=N(n);s=q(p,r),p.forEach(m),l=H(_),i=P(_,"TD",{class:!0});var b=N(i);a=P(b,"SPAN",{class:!0});var w=N(a);u=q(w,c),w.forEach(m),b.forEach(m),h=H(_),_.forEach(m),this.h()},h(){d(a,"class","badge badge-info badge-outline font-bold"),d(i,"class","text-right")},m(f,_){j(f,t,_),g(t,n),g(n,s),g(t,l),g(t,i),g(i,a),g(a,u),g(t,h)},p(f,_){_&32&&r!==(r=f[10].signature+"")&&he(s,r),_&32&&c!==(c=f[10].selector+"")&&he(u,c)},d(f){f&&m(t)}}}function cr(o){let t,n,r,s,l,i,a,c,u,h,f,_;return{c(){t=S("button"),n=fe("svg"),r=fe("path"),s=fe("circle"),l=x(`
          Read`),i=F(),a=S("button"),c=fe("svg"),u=fe("path"),h=x(`
          Write`),this.h()},l(p){t=P(p,"BUTTON",{class:!0});var b=N(t);n=de(b,"svg",{class:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,viewBox:!0});var w=N(n);r=de(w,"path",{d:!0}),N(r).forEach(m),s=de(w,"circle",{cx:!0,cy:!0,r:!0}),N(s).forEach(m),w.forEach(m),l=q(b,`
          Read`),b.forEach(m),i=H(p),a=P(p,"BUTTON",{class:!0});var B=N(a);c=de(B,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var k=N(c);u=de(k,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),N(u).forEach(m),k.forEach(m),h=q(B,`
          Write`),B.forEach(m),this.h()},h(){d(r,"d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"),d(s,"cx","12"),d(s,"cy","12"),d(s,"r","3"),d(n,"class","w-4 h-4 mr-1"),d(n,"stroke","currentColor"),d(n,"stroke-width","2"),d(n,"fill","none"),d(n,"stroke-linecap","round"),d(n,"stroke-linejoin","round"),d(n,"viewBox","0 0 24 24"),d(t,"class","btn glass btn-xs"),d(u,"fill-rule","evenodd"),d(u,"d","M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"),d(u,"clip-rule","evenodd"),d(c,"class","w-4 h-4 mr-1"),d(c,"fill","currentColor"),d(c,"viewBox","0 0 20 20"),d(c,"xmlns","http://www.w3.org/2000/svg"),d(a,"class","btn glass btn-xs")},m(p,b){j(p,t,b),g(t,n),g(n,r),g(n,s),g(t,l),j(p,i,b),j(p,a,b),g(a,c),g(c,u),g(a,h),f||(_=[le(t,"click",o[7]),le(a,"click",o[8])],f=!0)},p:ge,d(p){p&&m(t),p&&m(i),p&&m(a),f=!1,Et(_)}}}function Do(o){let t,n,r,s,l=(o[5].name||"UNVERIFIED")+"",i,a,c,u,h=o[5].address+"",f,_,p,b,w,B,k,y,I,C,D,L,T,R,v,O,U,M,E,V,X,W,z,J,re,_e,ne=!o[5].name&&ir(o),De=o[5].methods,pe=[];for(let ae=0;ae<De.length;ae+=1)pe[ae]=ar(lr(o,De,ae));let we=o[5].name&&cr(o);return{c(){t=S("div"),n=S("div"),r=S("div"),s=S("h2"),i=x(l),a=F(),ne&&ne.c(),c=F(),u=S("div"),f=x(h),_=F(),p=fe("svg"),b=fe("path"),w=fe("path"),B=F(),k=S("div"),y=S("table"),I=S("thead"),C=S("tr"),D=S("th"),L=x("Method"),T=F(),R=S("th"),v=S("span"),O=x("Selector"),U=F();for(let ae=0;ae<pe.length;ae+=1)pe[ae].c();M=F(),E=S("div"),we&&we.c(),V=F(),X=S("button"),W=fe("svg"),z=fe("path"),J=x(`
        Remove`),this.h()},l(ae){t=P(ae,"DIV",{class:!0});var Ce=N(t);n=P(Ce,"DIV",{class:!0});var ce=N(n);r=P(ce,"DIV",{class:!0});var Me=N(r);s=P(Me,"H2",{class:!0});var rt=N(s);i=q(rt,l),rt.forEach(m),a=H(Me),ne&&ne.l(Me),Me.forEach(m),c=H(ce),u=P(ce,"DIV",{class:!0});var Fe=N(u);f=q(Fe,h),_=H(Fe),p=de(Fe,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var mt=N(p);b=de(mt,"path",{d:!0}),N(b).forEach(m),w=de(mt,"path",{d:!0}),N(w).forEach(m),mt.forEach(m),Fe.forEach(m),B=H(ce),k=P(ce,"DIV",{class:!0});var gt=N(k);y=P(gt,"TABLE",{class:!0});var A=N(y);I=P(A,"THEAD",{});var Q=N(I);C=P(Q,"TR",{});var se=N(C);D=P(se,"TH",{});var Te=N(D);L=q(Te,"Method"),Te.forEach(m),T=H(se),R=P(se,"TH",{class:!0});var ke=N(R);v=P(ke,"SPAN",{class:!0});var ze=N(v);O=q(ze,"Selector"),ze.forEach(m),ke.forEach(m),se.forEach(m),Q.forEach(m),U=H(A);for(let mn=0;mn<pe.length;mn+=1)pe[mn].l(A);A.forEach(m),gt.forEach(m),M=H(ce),E=P(ce,"DIV",{class:!0});var He=N(E);we&&we.l(He),V=H(He),X=P(He,"BUTTON",{class:!0});var hn=N(X);W=de(hn,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var Fn=N(W);z=de(Fn,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(z).forEach(m),Fn.forEach(m),J=q(hn,`
        Remove`),hn.forEach(m),He.forEach(m),ce.forEach(m),Ce.forEach(m),this.h()},h(){d(s,"class","card-title text-primary-focus font-bold"),d(r,"class","flex justify-between"),d(b,"d","M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"),d(w,"d","M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"),d(p,"class","w-3 h-3 md:w-4 md:h-4 inline ml-2"),d(p,"fill","currentColor"),d(p,"viewBox","0 0 20 20"),d(p,"xmlns","http://www.w3.org/2000/svg"),d(u,"class","badge badge-info p-3 cursor-pointer text-xs lg:text-base"),d(v,"class","mr-3"),d(R,"class","text-right"),d(y,"class","table w-full table-compact"),d(k,"class","overflow-x-auto mt-5 h-full"),d(z,"stroke-linecap","round"),d(z,"stroke-linejoin","round"),d(z,"stroke-width","2"),d(z,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),d(W,"class","w-4 h-4 mr-1"),d(W,"fill","none"),d(W,"stroke","currentColor"),d(W,"viewBox","0 0 24 24"),d(W,"xmlns","http://www.w3.org/2000/svg"),d(X,"class","btn glass btn-xs bg-error"),d(E,"class","card-actions bg-secondary rounded-md p-1 text-secondary-content"),d(n,"class","card-body"),d(t,"class","card shadow mockup-code bg-base-300 text-base-content")},m(ae,Ce){j(ae,t,Ce),g(t,n),g(n,r),g(r,s),g(s,i),g(r,a),ne&&ne.m(r,null),g(n,c),g(n,u),g(u,f),g(u,_),g(u,p),g(p,b),g(p,w),g(n,B),g(n,k),g(k,y),g(y,I),g(I,C),g(C,D),g(D,L),g(C,T),g(C,R),g(R,v),g(v,O),g(y,U);for(let ce=0;ce<pe.length;ce+=1)pe[ce].m(y,null);g(n,M),g(n,E),we&&we.m(E,null),g(E,V),g(E,X),g(X,W),g(W,z),g(X,J),re||(_e=[le(u,"click",o[6]),le(X,"click",o[9])],re=!0)},p(ae,[Ce]){if(Ce&32&&l!==(l=(ae[5].name||"UNVERIFIED")+"")&&he(i,l),ae[5].name?ne&&(ne.d(1),ne=null):ne?ne.p(ae,Ce):(ne=ir(ae),ne.c(),ne.m(r,null)),Ce&32&&h!==(h=ae[5].address+"")&&he(f,h),Ce&32){De=ae[5].methods;let ce;for(ce=0;ce<De.length;ce+=1){const Me=lr(ae,De,ce);pe[ce]?pe[ce].p(Me,Ce):(pe[ce]=ar(Me),pe[ce].c(),pe[ce].m(y,null))}for(;ce<pe.length;ce+=1)pe[ce].d(1);pe.length=De.length}ae[5].name?we?we.p(ae,Ce):(we=cr(ae),we.c(),we.m(E,V)):we&&(we.d(1),we=null)},i:ge,o:ge,d(ae){ae&&m(t),ne&&ne.d(),Qe(pe,ae),we&&we.d(),re=!1,Et(_e)}}}function Uo(o,t,n){let{diamond:r}=t,{facet:s}=t,{showReadContract:l}=t,{showWriteContract:i}=t,{showRemoveFacet:a}=t,{activeFacet:c}=t;const u=()=>window.open(tn(s.address,r.network)),h=()=>{n(0,l=!0),n(1,i=!1),n(2,a=!1),n(3,c=s)},f=()=>{n(0,l=!1),n(1,i=!0),n(2,a=!1),n(3,c=s)},_=()=>{n(0,l=!1),n(1,i=!1),n(2,a=!0),n(3,c=s)};return o.$$set=p=>{"diamond"in p&&n(4,r=p.diamond),"facet"in p&&n(5,s=p.facet),"showReadContract"in p&&n(0,l=p.showReadContract),"showWriteContract"in p&&n(1,i=p.showWriteContract),"showRemoveFacet"in p&&n(2,a=p.showRemoveFacet),"activeFacet"in p&&n(3,c=p.activeFacet)},[l,i,a,c,r,s,u,h,f,_]}class Mo extends at{constructor(t){super(),ct(this,t,Uo,Do,ut,{diamond:4,facet:5,showReadContract:0,showWriteContract:1,showRemoveFacet:2,activeFacet:3})}}const Vo=function o(t){function n(s,l,i){var a,c={};if(Array.isArray(s))return s.concat(l);for(a in s)c[i?a.toLowerCase():a]=s[a];for(a in l){var u=i?a.toLowerCase():a,h=l[a];c[u]=u in c&&typeof h=="object"?n(c[u],h,u==="headers"):h}return c}function r(s,l,i,a){typeof s!="string"&&(s=(l=s).url);var c={config:l},u=n(t,l),h={},f=a||u.data;(u.transformRequest||[]).map(function(b){f=b(f,u.headers)||f}),f&&typeof f=="object"&&typeof f.append!="function"&&(f=JSON.stringify(f),h["content-type"]="application/json");var _=typeof document<"u"&&document.cookie.match(RegExp("(^|; )"+u.xsrfCookieName+"=([^;]*)"));if(_&&(h[u.xsrfHeaderName]=_[2]),u.auth&&(h.authorization=u.auth),u.baseURL&&(s=s.replace(/^(?!.*\/\/)\/?(.*)$/,u.baseURL+"/$1")),u.params){var p=~s.indexOf("?")?"&":"?";s+=p+(u.paramsSerializer?u.paramsSerializer(u.params):new URLSearchParams(u.params))}return(u.fetch||fetch)(s,{method:i||u.method,body:f,headers:n(u.headers,h,!0),credentials:u.withCredentials?"include":"same-origin"}).then(function(b){for(var w in b)typeof b[w]!="function"&&(c[w]=b[w]);var B=u.validateStatus?u.validateStatus(b.status):b.ok;return u.responseType=="stream"?(c.data=b.body,c):b[u.responseType||"text"]().then(function(k){c.data=k,c.data=JSON.parse(k)}).catch(Object).then(function(){return B?c:Promise.reject(c)})})}return t=t||{},r.request=r,r.get=function(s,l){return r(s,l,"get")},r.delete=function(s,l){return r(s,l,"delete")},r.head=function(s,l){return r(s,l,"head")},r.options=function(s,l){return r(s,l,"options")},r.post=function(s,l,i){return r(s,i,"post",l)},r.put=function(s,l,i){return r(s,i,"put",l)},r.patch=function(s,l,i){return r(s,i,"patch",l)},r.all=Promise.all.bind(Promise),r.spread=function(s){return function(l){return s.apply(this,l)}},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=t,r.create=o,r}();class jo{constructor(t,n){this.read=async(r,s)=>await Vo.post("/api/readContract",{address:this.address,network:this.network,fragment:r.format("json"),args:s}),this.address=t,this.network=n}}function ur(o,t,n){const r=o.slice();return r[46]=t[n],r[48]=n,r}function fr(o,t,n){const r=o.slice();return r[11]=t[n],r[50]=n,r}function dr(o){let t,n=o[0],r=[];for(let s=0;s<n.length;s+=1)r[s]=mr(fr(o,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();t=Se()},l(s){for(let l=0;l<r.length;l+=1)r[l].l(s);t=Se()},m(s,l){for(let i=0;i<r.length;i+=1)r[i].m(s,l);j(s,t,l)},p(s,l){if(l[0]&16457){n=s[0];let i;for(i=0;i<n.length;i+=1){const a=fr(s,n,i);r[i]?r[i].p(a,l):(r[i]=mr(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(s){Qe(r,s),s&&m(t)}}}function Fo(o){let t=o[11][o[3]]+"",n;return{c(){n=x(t)},l(r){n=q(r,t)},m(r,s){j(r,n,s)},p(r,s){s[0]&9&&t!==(t=r[11][r[3]]+"")&&he(n,t)},d(r){r&&m(n)}}}function Ho(o){let t=o[11]+"",n;return{c(){n=x(t)},l(r){n=q(r,t)},m(r,s){j(r,n,s)},p(r,s){s[0]&1&&t!==(t=r[11]+"")&&he(n,t)},d(r){r&&m(n)}}}function hr(o){let t,n,r,s;function l(){return o[34](o[50])}return{c(){t=S("span"),n=x("\xD7"),this.h()},l(i){t=P(i,"SPAN",{class:!0});var a=N(t);n=q(a,"\xD7"),a.forEach(m),this.h()},h(){d(t,"class","svelte-tags-input-tag-remove svelte-2kr4a4")},m(i,a){j(i,t,a),g(t,n),r||(s=le(t,"click",l),r=!0)},p(i,a){o=i},d(i){i&&m(t),r=!1,s()}}}function mr(o){let t,n,r;function s(c,u){return typeof c[11]=="string"?Ho:Fo}let l=s(o),i=l(o),a=!o[6]&&hr(o);return{c(){t=S("span"),i.c(),n=F(),a&&a.c(),r=F(),this.h()},l(c){t=P(c,"SPAN",{class:!0});var u=N(t);i.l(u),n=H(u),a&&a.l(u),r=H(u),u.forEach(m),this.h()},h(){d(t,"class","svelte-tags-input-tag svelte-2kr4a4")},m(c,u){j(c,t,u),i.m(t,null),g(t,n),a&&a.m(t,null),g(t,r)},p(c,u){l===(l=s(c))&&i?i.p(c,u):(i.d(1),i=l(c),i&&(i.c(),i.m(t,n))),c[6]?a&&(a.d(1),a=null):a?a.p(c,u):(a=hr(c),a.c(),a.m(t,r))},d(c){c&&m(t),i.d(),a&&a.d()}}}function gr(o){let t,n,r,s=o[9],l=[];for(let i=0;i<s.length;i+=1)l[i]=_r(ur(o,s,i));return{c(){t=S("div"),n=S("ul");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){t=P(i,"DIV",{class:!0});var a=N(t);n=P(a,"UL",{id:!0,class:!0});var c=N(n);for(let u=0;u<l.length;u+=1)l[u].l(c);c.forEach(m),a.forEach(m),this.h()},h(){d(n,"id",r=o[5]+"_matchs"),d(n,"class","svelte-tags-input-matchs svelte-2kr4a4"),d(t,"class","svelte-tags-input-matchs-parent svelte-2kr4a4")},m(i,a){j(i,t,a),g(t,n);for(let c=0;c<l.length;c+=1)l[c].m(n,null)},p(i,a){if(a[0]&2105856){s=i[9];let c;for(c=0;c<s.length;c+=1){const u=ur(i,s,c);l[c]?l[c].p(u,a):(l[c]=_r(u),l[c].c(),l[c].m(n,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}a[0]&32&&r!==(r=i[5]+"_matchs")&&d(n,"id",r)},d(i){i&&m(t),Qe(l,i)}}}function _r(o){let t,n,r=o[46].search+"",s,l,i;function a(){return o[38](o[48],o[46])}function c(){return o[39](o[46])}return{c(){t=S("li"),n=new $s,s=F(),this.h()},l(u){t=P(u,"LI",{tabindex:!0,class:!0});var h=N(t);n=eo(h),s=H(h),h.forEach(m),this.h()},h(){n.a=s,d(t,"tabindex","-1"),d(t,"class","svelte-2kr4a4")},m(u,h){j(u,t,h),n.m(r,t),g(t,s),l||(i=[le(t,"keydown",a),le(t,"click",c)],l=!0)},p(u,h){o=u,h[0]&512&&r!==(r=o[46].search+"")&&n.p(r)},d(u){u&&m(t),l=!1,Et(i)}}}function xo(o){let t,n,r,s,l,i,a,c,u,h,f,_=o[0].length>0&&dr(o),p=o[2]&&o[9].length>0&&gr(o);return{c(){t=S("div"),n=S("label"),r=x(o[7]),l=F(),_&&_.c(),i=F(),a=S("input"),c=F(),p&&p.c(),u=Se(),this.h()},l(b){t=P(b,"DIV",{class:!0});var w=N(t);n=P(w,"LABEL",{for:!0,class:!0});var B=N(n);r=q(B,o[7]),B.forEach(m),l=H(w),_&&_.l(w),i=H(w),a=P(w,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),w.forEach(m),c=H(b),p&&p.l(b),u=Se(),this.h()},h(){d(n,"for",o[5]),d(n,"class",s=Hn(o[8]?"":"sr-only")+" svelte-2kr4a4"),d(a,"type","text"),d(a,"id",o[5]),d(a,"name",o[4]),d(a,"class","svelte-tags-input svelte-2kr4a4"),d(a,"placeholder",o[1]),a.disabled=o[6],d(t,"class","svelte-tags-input-layout svelte-2kr4a4"),ft(t,"sti-layout-disable",o[6])},m(b,w){j(b,t,w),g(t,n),g(n,r),g(t,l),_&&_.m(t,null),g(t,i),g(t,a),dt(a,o[11]),o[37](t),j(b,c,w),p&&p.m(b,w),j(b,u,w),h||(f=[le(a,"input",o[35]),le(a,"keydown",o[12]),le(a,"keyup",o[20]),le(a,"paste",o[15]),le(a,"drop",o[16]),le(a,"focus",o[17]),le(a,"blur",o[36]),le(a,"click",o[19])],h=!0)},p(b,w){w[0]&128&&he(r,b[7]),w[0]&32&&d(n,"for",b[5]),w[0]&256&&s!==(s=Hn(b[8]?"":"sr-only")+" svelte-2kr4a4")&&d(n,"class",s),b[0].length>0?_?_.p(b,w):(_=dr(b),_.c(),_.m(t,i)):_&&(_.d(1),_=null),w[0]&32&&d(a,"id",b[5]),w[0]&16&&d(a,"name",b[4]),w[0]&2&&d(a,"placeholder",b[1]),w[0]&64&&(a.disabled=b[6]),w[0]&2048&&a.value!==b[11]&&dt(a,b[11]),w[0]&64&&ft(t,"sti-layout-disable",b[6]),b[2]&&b[9].length>0?p?p.p(b,w):(p=gr(b),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i:ge,o:ge,d(b){b&&m(t),_&&_.d(),o[37](null),b&&m(c),p&&p.d(b),b&&m(u),h=!1,Et(f)}}}function qo(o){return window.clipboardData?window.clipboardData.getData("Text"):o.clipboardData?o.clipboardData.getData("text/plain"):""}function Wo(o){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+o).replace(/[&<>"'\/]/g,n=>t[n])}function Go(){return"sti_"+Math.random().toString(36).substring(2,11)}function zo(o,t,n){let r;const s=Ys();let l="",i=[],a=A=>A.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),{tags:c}=t,{addKeys:u}=t,{maxTags:h}=t,{onlyUnique:f}=t,{removeKeys:_}=t,{placeholder:p}=t,{allowPaste:b}=t,{allowDrop:w}=t,{splitWith:B}=t,{autoComplete:k}=t,{autoCompleteFilter:y}=t,{autoCompleteKey:I}=t,{autoCompleteMarkupKey:C}=t,{name:D}=t,{id:L}=t,{allowBlur:T}=t,{disable:R}=t,{minChars:v}=t,{onlyAutocomplete:O}=t,{labelText:U}=t,{labelShow:M}=t,E,V=p;function X(A){const Q=A.target.value;u&&u.forEach(function(se){se===A.keyCode&&(Q&&A.preventDefault(),k&&document.getElementById(r)?W(document.getElementById(r).querySelectorAll("li")[0].textContent):W(Q))}),_&&_.forEach(function(se){se===A.keyCode&&l===""&&(c.pop(),n(0,c),s("tags",{tags:c}),n(9,i=[]),document.getElementById(L).readOnly=!1,n(1,p=V),document.getElementById(L).focus())}),A.keyCode===40&&k&&document.getElementById(r)?(e.preventDefault(),document.getElementById(r).querySelector("li:first-child").focus()):A.keyCode===38&&k&&document.getElementById(r)&&(e.preventDefault(),document.getElementById(r).querySelector("li:last-child").focus())}function W(A){if(typeof A=="object"&&A!==null){if(!I)return console.error("'autoCompleteKey' is necessary if 'autoComplete' result is an array of objects");var Q=A;A=A[I].trim()}else A=A.trim();A!=""&&(h&&c.length==h||f&&c.includes(A)||O&&i.length===0||(c.push(Q||A),n(0,c),n(11,l=""),s("tags",{tags:c}),n(9,i=[]),document.getElementById(L).focus(),h&&c.length==h&&(document.getElementById(L).readOnly=!0,n(1,p=""))))}function z(A){c.splice(A,1),n(0,c),s("tags",{tags:c}),n(9,i=[]),document.getElementById(L).readOnly=!1,n(1,p=V),document.getElementById(L).focus()}function J(A){if(!b)return;A.preventDefault();const Q=qo(A);pe(Q).map(se=>W(se))}function re(A){if(!w)return;A.preventDefault();const Q=A.dataTransfer.getData("Text");pe(Q).map(se=>W(se))}function _e(){E.classList.add("focus")}function ne(A){E.classList.remove("focus"),!document.getElementById(r)&&T&&(e.preventDefault(),W(A))}function De(){v==0&&ae()}function pe(A){return A.split(B).map(Q=>Q.trim())}function we(A,Q){return Wo(Q).replace(RegExp(a(A.toLowerCase()),"i"),"<strong>$&</strong>")}async function ae(A){if(!k)return;let Q=A?A.target.value:"",se=[];if(Array.isArray(k)&&(se=k),typeof k=="function"&&(k.constructor.name==="AsyncFunction"?se=await k(Q):se=k(Q)),se.constructor.name==="Promise"&&(se=await se),v>0&&Q==""||A&&A.keyCode===27||Q.length<v){n(9,i=[]);return}let Te=se;if(typeof se[0]=="object"&&se!==null){if(!I)return console.error("'autoCompleteValue' is necessary if 'autoComplete' result is an array of objects");y!==!1&&(Te=se.filter(ke=>ke[I].toLowerCase().includes(Q.toLowerCase()))),Te=Te.map(ke=>({label:ke,search:C?ke[C]:we(Q,ke[I])}))}else y!==!1&&(Te=se.filter(ke=>ke.toLowerCase().includes(Q.toLowerCase()))),Te=Te.map(ke=>({label:ke,search:we(Q,ke)}));f===!0&&!I&&(Te=Te.filter(ke=>!c.includes(ke.label))),n(9,i=Te)}function Ce(A,Q,se){if(!!k)if(e.preventDefault(),e.keyCode===40){if(A+1===Q){document.getElementById(r).querySelector("li:first-child").focus();return}document.getElementById(r).querySelectorAll("li")[A+1].focus()}else if(e.keyCode===38){if(A===0){document.getElementById(r).querySelector("li:last-child").focus();return}document.getElementById(r).querySelectorAll("li")[A-1].focus()}else e.keyCode===13?W(se):e.keyCode===27&&(n(9,i=[]),document.getElementById(L).focus())}const ce=A=>z(A);function Me(){l=this.value,n(11,l)}const rt=()=>ne(l);function Fe(A){Ke[A?"unshift":"push"](()=>{E=A,n(10,E)})}const mt=(A,Q)=>Ce(A,i.length,Q.label),gt=A=>W(A.label);return o.$$set=A=>{"tags"in A&&n(0,c=A.tags),"addKeys"in A&&n(22,u=A.addKeys),"maxTags"in A&&n(23,h=A.maxTags),"onlyUnique"in A&&n(24,f=A.onlyUnique),"removeKeys"in A&&n(25,_=A.removeKeys),"placeholder"in A&&n(1,p=A.placeholder),"allowPaste"in A&&n(26,b=A.allowPaste),"allowDrop"in A&&n(27,w=A.allowDrop),"splitWith"in A&&n(28,B=A.splitWith),"autoComplete"in A&&n(2,k=A.autoComplete),"autoCompleteFilter"in A&&n(29,y=A.autoCompleteFilter),"autoCompleteKey"in A&&n(3,I=A.autoCompleteKey),"autoCompleteMarkupKey"in A&&n(30,C=A.autoCompleteMarkupKey),"name"in A&&n(4,D=A.name),"id"in A&&n(5,L=A.id),"allowBlur"in A&&n(31,T=A.allowBlur),"disable"in A&&n(6,R=A.disable),"minChars"in A&&n(32,v=A.minChars),"onlyAutocomplete"in A&&n(33,O=A.onlyAutocomplete),"labelText"in A&&n(7,U=A.labelText),"labelShow"in A&&n(8,M=A.labelShow)},o.$$.update=()=>{o.$$.dirty[0]&1&&n(0,c=c||[]),o.$$.dirty[0]&4194304&&n(22,u=u||[13]),o.$$.dirty[0]&8388608&&n(23,h=h||!1),o.$$.dirty[0]&16777216&&n(24,f=f||!1),o.$$.dirty[0]&33554432&&n(25,_=_||[8]),o.$$.dirty[0]&2&&n(1,p=p||""),o.$$.dirty[0]&67108864&&n(26,b=b||!1),o.$$.dirty[0]&134217728&&n(27,w=w||!1),o.$$.dirty[0]&268435456&&n(28,B=B||","),o.$$.dirty[0]&4&&n(2,k=k||!1),o.$$.dirty[0]&536870912&&n(29,y=typeof y>"u"),o.$$.dirty[0]&8&&n(3,I=I||!1),o.$$.dirty[0]&1073741824&&n(30,C=C||!1),o.$$.dirty[0]&16&&n(4,D=D||"svelte-tags-input"),o.$$.dirty[0]&32&&n(5,L=L||Go()),o.$$.dirty[1]&1&&n(31,T=T||!1),o.$$.dirty[0]&64&&n(6,R=R||!1),o.$$.dirty[1]&2&&n(32,v=v||1),o.$$.dirty[1]&4&&n(33,O=O||!1),o.$$.dirty[0]&144&&n(7,U=U||D),o.$$.dirty[0]&256&&n(8,M=M||!1),o.$$.dirty[0]&32&&(r=L+"_matchs")},[c,p,k,I,D,L,R,U,M,i,E,l,X,W,z,J,re,_e,ne,De,ae,Ce,u,h,f,_,b,w,B,y,C,T,v,O,ce,Me,rt,Fe,mt,gt]}class Ps extends at{constructor(t){super(),ct(this,t,zo,xo,ut,{tags:0,addKeys:22,maxTags:23,onlyUnique:24,removeKeys:25,placeholder:1,allowPaste:26,allowDrop:27,splitWith:28,autoComplete:2,autoCompleteFilter:29,autoCompleteKey:3,autoCompleteMarkupKey:30,name:4,id:5,allowBlur:31,disable:6,minChars:32,onlyAutocomplete:33,labelText:7,labelShow:8},null,[-1,-1])}}function pr(o,t,n){const r=o.slice();return r[17]=t[n],r[18]=t,r[19]=n,r}function br(o,t,n){const r=o.slice();return r[20]=t[n],r}function wr(o){let t,n,r,s=o[1].name+"",l,i,a,c,u,h,f,_,p,b,w,B,k,y,I,C,D,L,T=o[1].methods.filter(Nr),R=[];for(let O=0;O<T.length;O+=1)R[O]=vr(br(o,T,O));let v=o[2]&&kr(o);return{c(){t=S("div"),n=S("h3"),r=x("Read "),l=x(s),i=F(),a=S("div"),c=S("label"),u=x("Choose a Method to Interact With"),h=F(),f=S("select"),_=S("option"),p=x("Select a method ");for(let O=0;O<R.length;O+=1)R[O].c();b=F(),v&&v.c(),w=F(),B=S("div"),k=S("div"),y=S("button"),I=x("Close"),this.h()},l(O){t=P(O,"DIV",{class:!0});var U=N(t);n=P(U,"H3",{class:!0});var M=N(n);r=q(M,"Read "),l=q(M,s),M.forEach(m),i=H(U),a=P(U,"DIV",{class:!0});var E=N(a);c=P(E,"LABEL",{for:!0,class:!0});var V=N(c);u=q(V,"Choose a Method to Interact With"),V.forEach(m),h=H(E),f=P(E,"SELECT",{name:!0,class:!0});var X=N(f);_=P(X,"OPTION",{});var W=N(_);p=q(W,"Select a method "),W.forEach(m);for(let _e=0;_e<R.length;_e+=1)R[_e].l(X);X.forEach(m),E.forEach(m),b=H(U),v&&v.l(U),U.forEach(m),w=H(O),B=P(O,"DIV",{class:!0});var z=N(B);k=P(z,"DIV",{class:!0});var J=N(k);y=P(J,"BUTTON",{class:!0});var re=N(y);I=q(re,"Close"),re.forEach(m),J.forEach(m),z.forEach(m),this.h()},h(){d(n,"class","text-2xl font-medium leading-6 mb-5"),d(c,"for","selectMethod"),d(c,"class","label"),_.__value=null,_.value=_.__value,d(f,"name","selectMethod"),d(f,"class","select select-bordered"),o[2]===void 0&&ws(()=>o[8].call(f)),d(a,"class","form-control w-full max-w-xs"),d(t,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left bg-base-200 p-10 rounded-box"),d(y,"class","btn btn-sm glass bg-primary"),d(k,"class","flex rounded-md w-full justify-center"),d(B,"class","mt-5 sm:mt-6")},m(O,U){j(O,t,U),g(t,n),g(n,r),g(n,l),g(t,i),g(t,a),g(a,c),g(c,u),g(a,h),g(a,f),g(f,_),g(_,p);for(let M=0;M<R.length;M+=1)R[M].m(f,null);en(f,o[2]),g(t,b),v&&v.m(t,null),j(O,w,U),j(O,B,U),g(B,k),g(k,y),g(y,I),C=!0,D||(L=[le(f,"change",o[8]),le(f,"change",o[9]),le(y,"click",o[14])],D=!0)},p(O,U){if((!C||U&2)&&s!==(s=O[1].name+"")&&he(l,s),U&2){T=O[1].methods.filter(Nr);let M;for(M=0;M<T.length;M+=1){const E=br(O,T,M);R[M]?R[M].p(E,U):(R[M]=vr(E),R[M].c(),R[M].m(f,null))}for(;M<R.length;M+=1)R[M].d(1);R.length=T.length}U&6&&en(f,O[2]),O[2]?v?(v.p(O,U),U&4&&K(v,1)):(v=kr(O),v.c(),K(v,1),v.m(t,null)):v&&(Oe(),te(v,1,1,()=>{v=null}),Be())},i(O){C||(K(v),C=!0)},o(O){te(v),C=!1},d(O){O&&m(t),Qe(R,O),v&&v.d(),O&&m(w),O&&m(B),D=!1,Et(L)}}}function vr(o){let t,n=o[20].fragment.name+"",r,s,l;return{c(){t=S("option"),r=x(n),s=F(),this.h()},l(i){t=P(i,"OPTION",{class:!0});var a=N(t);r=q(a,n),s=H(a),a.forEach(m),this.h()},h(){t.__value=l=o[20],t.value=t.__value,d(t,"class","font-semibold")},m(i,a){j(i,t,a),g(t,r),g(t,s)},p(i,a){a&2&&n!==(n=i[20].fragment.name+"")&&he(r,n),a&2&&l!==(l=i[20])&&(t.__value=l,t.value=t.__value)},d(i){i&&m(t)}}}function kr(o){let t,n,r=o[2].fragment.name+"",s,l,i,a,c,u,h,f,_,p,b,w,B,k,y,I=o[2].fragment.inputs,C=[];for(let T=0;T<I.length;T+=1)C[T]=yr(pr(o,I,T));const D=T=>te(C[T],1,1,()=>{C[T]=null});let L={ctx:o,current:null,token:null,hasCatch:!0,pending:Yo,then:Qo,catch:Zo,value:15,error:16,blocks:[,,,]};return xn(w=o[3],L),{c(){t=S("form"),n=S("h3"),s=x(r),l=F();for(let T=0;T<C.length;T+=1)C[T].c();i=F(),a=S("button"),c=x("Read"),u=F(),h=S("h2"),f=x("Result"),_=F(),p=S("div"),b=S("p"),L.block.c(),this.h()},l(T){t=P(T,"FORM",{class:!0});var R=N(t);n=P(R,"H3",{class:!0});var v=N(n);s=q(v,r),v.forEach(m),l=H(R);for(let V=0;V<C.length;V+=1)C[V].l(R);i=H(R),a=P(R,"BUTTON",{type:!0,class:!0});var O=N(a);c=q(O,"Read"),O.forEach(m),R.forEach(m),u=H(T),h=P(T,"H2",{class:!0});var U=N(h);f=q(U,"Result"),U.forEach(m),_=H(T),p=P(T,"DIV",{class:!0});var M=N(p);b=P(M,"P",{class:!0});var E=N(b);L.block.l(E),E.forEach(m),M.forEach(m),this.h()},h(){d(n,"class","text-lg font-semibold"),d(a,"type","submit"),d(a,"class","btn btn-sm bg-primary glass mt-3"),d(t,"class","py-3"),d(h,"class","text-lg font-semibold mt-5"),d(b,"class","leading-5 bg-neutral-focus text-neutral-content w-full p-5 rounded-box overflow-auto"),d(p,"class","mt-2 flex justify-center h-72")},m(T,R){j(T,t,R),g(t,n),g(n,s),g(t,l);for(let v=0;v<C.length;v+=1)C[v].m(t,null);g(t,i),g(t,a),g(a,c),j(T,u,R),j(T,h,R),g(h,f),j(T,_,R),j(T,p,R),g(p,b),L.block.m(b,L.anchor=null),L.mount=()=>b,L.anchor=null,B=!0,k||(y=le(t,"submit",vs(o[13])),k=!0)},p(T,R){if(o=T,(!B||R&4)&&r!==(r=o[2].fragment.name+"")&&he(s,r),R&20){I=o[2].fragment.inputs;let v;for(v=0;v<I.length;v+=1){const O=pr(o,I,v);C[v]?(C[v].p(O,R),K(C[v],1)):(C[v]=yr(O),C[v].c(),K(C[v],1),C[v].m(t,i))}for(Oe(),v=I.length;v<C.length;v+=1)D(v);Be()}L.ctx=o,R&8&&w!==(w=o[3])&&xn(w,L)||to(L,o,R)},i(T){if(!B){for(let R=0;R<I.length;R+=1)K(C[R]);K(L.block),B=!0}},o(T){C=C.filter(Boolean);for(let R=0;R<C.length;R+=1)te(C[R]);for(let R=0;R<3;R+=1){const v=L.blocks[R];te(v)}B=!1},d(T){T&&m(t),Qe(C,T),T&&m(u),T&&m(h),T&&m(_),T&&m(p),L.block.d(),L.token=null,L=null,k=!1,y()}}}function Jo(o){let t,n,r,s;function l(){o[12].call(t,o[19])}return{c(){t=S("input"),this.h()},l(i){t=P(i,"INPUT",{type:!0,name:!0,class:!0}),this.h()},h(){d(t,"type","text"),d(t,"name",n=o[17].name),d(t,"class","border-2 rounded m-2 input input-primary input-bordered")},m(i,a){j(i,t,a),dt(t,o[4][o[19]]),r||(s=le(t,"input",l),r=!0)},p(i,a){o=i,a&6&&n!==(n=o[17].name)&&d(t,"name",n),a&16&&t.value!==o[4][o[19]]&&dt(t,o[4][o[19]])},i:ge,o:ge,d(i){i&&m(t),r=!1,s()}}}function Ko(o){let t,n,r,s;function l(){o[11].call(t,o[19])}return{c(){t=S("input"),this.h()},l(i){t=P(i,"INPUT",{type:!0,name:!0}),this.h()},h(){d(t,"type","checkbox"),d(t,"name",n=o[17].name)},m(i,a){j(i,t,a),t.checked=o[4][o[19]],r||(s=le(t,"change",l),r=!0)},p(i,a){o=i,a&6&&n!==(n=o[17].name)&&d(t,"name",n),a&16&&(t.checked=o[4][o[19]])},i:ge,o:ge,d(i){i&&m(t),r=!1,s()}}}function Xo(o){let t,n;function r(...s){return o[10](o[19],...s)}return t=new Ps({props:{allowPaste:!0,class:"border-2 rounded m-2 input input-primary input-bordered"}}),t.$on("tags",r),{c(){xe(t.$$.fragment)},l(s){qe(t.$$.fragment,s)},m(s,l){We(t,s,l),n=!0},p(s,l){o=s},i(s){n||(K(t.$$.fragment,s),n=!0)},o(s){te(t.$$.fragment,s),n=!1},d(s){Ge(t,s)}}}function yr(o){let t,n,r,s=o[17].name+"",l,i,a,c=o[17].type+"",u,h,f,_,p,b,w;const B=[Xo,Ko,Jo],k=[];function y(I,C){return C&4&&(_=null),_==null&&(_=I[17].type.indexOf("[]")>-1),_?0:I[17].type==="bool"?1:2}return p=y(o,-1),b=k[p]=B[p](o),{c(){t=S("div"),n=S("label"),r=S("span"),l=x(s),i=F(),a=S("span"),u=x(c),f=F(),b.c(),this.h()},l(I){t=P(I,"DIV",{class:!0});var C=N(t);n=P(C,"LABEL",{for:!0,class:!0});var D=N(n);r=P(D,"SPAN",{class:!0});var L=N(r);l=q(L,s),L.forEach(m),i=H(D),a=P(D,"SPAN",{class:!0});var T=N(a);u=q(T,c),T.forEach(m),D.forEach(m),f=H(C),b.l(C),C.forEach(m),this.h()},h(){d(r,"class","label-text"),d(a,"class","badge font-mono font-thin"),d(n,"for",h=o[17].name),d(n,"class","label"),d(t,"class","ml-2 inline-block mr-2 form-control")},m(I,C){j(I,t,C),g(t,n),g(n,r),g(r,l),g(n,i),g(n,a),g(a,u),g(t,f),k[p].m(t,null),w=!0},p(I,C){(!w||C&4)&&s!==(s=I[17].name+"")&&he(l,s),(!w||C&4)&&c!==(c=I[17].type+"")&&he(u,c),(!w||C&6&&h!==(h=I[17].name))&&d(n,"for",h);let D=p;p=y(I,C),p===D?k[p].p(I,C):(Oe(),te(k[D],1,1,()=>{k[D]=null}),Be(),b=k[p],b?b.p(I,C):(b=k[p]=B[p](I),b.c()),K(b,1),b.m(t,null))},i(I){w||(K(b),w=!0)},o(I){te(b),w=!1},d(I){I&&m(t),k[p].d()}}}function Zo(o){let t;return{c(){t=x("Whoops! Something went wrong...")},l(n){t=q(n,"Whoops! Something went wrong...")},m(n,r){j(n,t,r)},p:ge,i:ge,o:ge,d(n){n&&m(t)}}}function Qo(o){let t,n=o[15]&&Er(o);return{c(){n&&n.c(),t=Se()},l(r){n&&n.l(r),t=Se()},m(r,s){n&&n.m(r,s),j(r,t,s)},p(r,s){r[15]?n?n.p(r,s):(n=Er(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ge,o:ge,d(r){n&&n.d(r),r&&m(t)}}}function Er(o){let t,n,r=JSON.stringify(o[15].data,null,2)+"",s,l;return{c(){t=S("pre"),n=x(`
                `),s=x(r),l=x(`
              `),this.h()},l(i){t=P(i,"PRE",{class:!0});var a=N(t);n=q(a,`
                `),s=q(a,r),l=q(a,`
              `),a.forEach(m),this.h()},h(){d(t,"class","text-xs md:text-base text-base-content")},m(i,a){j(i,t,a),g(t,n),g(t,s),g(t,l)},p(i,a){a&8&&r!==(r=JSON.stringify(i[15].data,null,2)+"")&&he(s,r)},d(i){i&&m(t)}}}function Yo(o){let t,n,r;return n=new an({}),{c(){t=S("div"),xe(n.$$.fragment),this.h()},l(s){t=P(s,"DIV",{class:!0});var l=N(t);qe(n.$$.fragment,l),l.forEach(m),this.h()},h(){d(t,"class","self-center")},m(s,l){j(s,t,l),We(n,t,null),r=!0},p:ge,i(s){r||(K(n.$$.fragment,s),r=!0)},o(s){te(n.$$.fragment,s),r=!1},d(s){s&&m(t),Ge(n)}}}function $o(o){let t,n,r=o[0]&&o[1]&&wr(o);return{c(){r&&r.c(),t=Se()},l(s){r&&r.l(s),t=Se()},m(s,l){r&&r.m(s,l),j(s,t,l),n=!0},p(s,[l]){s[0]&&s[1]?r?(r.p(s,l),l&3&&K(r,1)):(r=wr(s),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Oe(),te(r,1,1,()=>{r=null}),Be())},i(s){n||(K(r),n=!0)},o(s){te(r),n=!1},d(s){r&&r.d(s),s&&m(t)}}}const Nr=o=>o.fragment.constant;function el(o,t,n){let{address:r}=t,{network:s}=t,{showModal:l=!1}=t,{facet:i=void 0}=t,a=null,c="",u=[];const h=new jo(r,s);function f(){a=ks(this),n(2,a),n(1,i)}const _=()=>{n(4,u=[]),n(3,c="")},p=(y,I)=>n(4,u[y]=I.detail.tags,u);function b(y){u[y]=this.checked,n(4,u)}function w(y){u[y]=this.value,n(4,u)}const B=()=>n(3,c=h.read(a.fragment,u)),k=()=>{n(0,l=!1),n(2,a=null),n(3,c=""),n(4,u=[])};return o.$$set=y=>{"address"in y&&n(6,r=y.address),"network"in y&&n(7,s=y.network),"showModal"in y&&n(0,l=y.showModal),"facet"in y&&n(1,i=y.facet)},[l,i,a,c,u,h,r,s,f,_,p,b,w,B,k]}class tl extends at{constructor(t){super(),ct(this,t,el,$o,ut,{address:6,network:7,showModal:0,facet:1})}}const Ie=()=>{};function nl(o,t){return o!=o?t==t:o!==t||o&&typeof o=="object"||typeof o=="function"}const It=[];function rl(o,t=Ie){let n=null;const r=[];function s(a){if(nl(o,a)&&(o=a,n)){const c=!It.length;for(let u=0;u<r.length;u+=1){const h=r[u];h[1](),It.push(h,o)}if(c){for(let u=0;u<It.length;u+=2)It[u][0](It[u+1]);It.length=0}}}function l(a){s(a(o))}function i(a,c=Ie){const u=[a,c];return r.push(u),r.length===1&&(n=t(s)||Ie),a(o),()=>{const h=r.indexOf(u);h!==-1&&r.splice(h,1),r.length===0&&n!==null&&(n(),n=null)}}return{set:s,update:l,subscribe:i}}function Cr(){if(typeof window<"u"){const o=window;if(o.ethereum)return o.ethereum;if(o.web3)return o.web3.currentProvider}return null}function sl(){return new Promise(o=>{document.readyState!=="complete"?document.onreadystatechange=function(){document.readyState==="complete"&&(document.onreadystatechange=null,o(Cr()))}:o(Cr())})}function ol(o){if(o)return o.isMetaMask?"Metamask":o.isFrame?"Frame":navigator.userAgent.indexOf("Opera")!=-1||navigator.userAgent.indexOf("OPR/")!=-1?"Opera":"unknown"}function ll(o,t,n){return new Promise((r,s)=>{let l=!1;const i=setTimeout(()=>{l=!0,n?typeof n=="function"?r(n()):s(n.error||n):s(new Error("TimedOut"))},o);t.then(a=>{l||(clearTimeout(i),r(a))}).catch(a=>{l||(clearTimeout(i),s(a))})})}var yn=globalThis&&globalThis.__awaiter||function(o,t,n,r){function s(l){return l instanceof n?l:new n(function(i){i(l)})}return new(n||(n=Promise))(function(l,i){function a(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?l(h.value):s(h.value).then(a,c)}u((r=r.apply(o,t||[])).next())})};const il=Ts("web3w:ethers");function As(o,t,n,r){il.log("PROXY",{name:t});const s=r?Object.assign({onContractTxRequested:Ie,onContractTxCancelled:Ie,onContractTxSent:Ie},r):{onContractTxRequested:Ie,onContractTxCancelled:Ie,onContractTxSent:Ie},{onContractTxRequested:l,onContractTxCancelled:i,onContractTxSent:a}=s,c={},u={},h=o.interface.fragments.filter(B=>B.type==="event").map(B=>JSON.parse(B.format("json"))),f=o.interface.functions,_={};for(const B of Object.keys(f))_[f[B].name]=B;const p={};for(const B of Object.keys(o))p[B]=o[B];p.functions={};for(const B of Object.keys(o.functions))p.functions[B]=o.functions[B];function b(B,k,y){let I=B[y];if(!I){let C=o.interface.functions[y];C||(C=o.interface.functions[_[y]]),I=new Proxy(k[y],{apply:(D,L,T)=>yn(this,void 0,void 0,function*(){const R=yield o.signer.getAddress(),v=T.length;let O=T,U;v===C.inputs.length+1&&typeof T[v-1]=="object"&&(O=O.slice(0,v-1),U=T[v-1]);let M;U&&(M=U.metadata,U=Object.assign({},U),delete U.metadata),U||(U={}),U.nonce||(U.nonce=yield o.signer.getTransactionCount()),l({to:o.address,from:R,chainId:n,eventsABI:h,contractName:t,args:O,method:y,overrides:U,metadata:M});let E;try{E=yield D.bind(k)(...O,U)}catch(V){throw i({to:o.address,from:R,chainId:n,eventsABI:h,contractName:t,args:O,method:y,overrides:U,metadata:M}),V}return a({hash:E.hash,to:o.address,from:R,chainId:n,eventsABI:h,contractName:t,args:O,method:y,overrides:U,metadata:M}),E})}),B[y]=I}return I}const w=new Proxy(p.functions,{get:(B,k)=>b(c,o.functions,k)});return new Proxy(p,{get:(B,k)=>k==="functions"?w:o.functions[k]?b(u,o,k):k==="_proxiedContract"?o:k==="connect"?y=>As(o.connect(y),t,n,r):k==="toJSON"?()=>({address:o.address,abi:o.interface.fragments,functionsSignatures:o.interface.fragments.map(y=>y.format("full"))}):o[k]})}function Os(o,t,{onTxRequested:n,onTxCancelled:r,onTxSent:s,onSignatureRequested:l,onSignatureCancelled:i,onSignatureReceived:a}){t=Object.assign({sendTransaction:(h,f,_)=>yn(this,void 0,void 0,function*(){const p=yield o.getAddress(),b=yield(yield o.getChainId()).toString(),w=Object.assign({},_[0]),B=_.slice(1);let{nonce:k}=w;k||(k=w.nonce=yield o.getTransactionCount());const y=Object.assign(Object.assign({},w),{from:p,chainId:b,nonce:k});n(y);let I;try{I=yield h.bind(f)(w,...B)}catch(L){throw r(y),L}const D=(yield o.provider.getBlock("latest")).timestamp;return s(Object.assign(Object.assign({},I),{from:p,nonce:k,submissionBlockTime:D,chainId:b})),I}),signMessage:(h,f,_)=>yn(this,void 0,void 0,function*(){const p=yield o.getAddress(),b={from:p,message:_[0]};l(b);let w;try{w=yield h.bind(f)(..._)}catch(B){throw i(b),B}return a({from:p,signature:w}),w})},t);const c={};function u(h,f){let _=c[h];return _||(_=new Proxy(o[h],f),c[h]=_),_}return new Proxy(o,{get:(h,f)=>{const _=t[f];return _?u(f,{apply:_}):h[f]}})}function al(o,t){return Os(o,{},t)}function cl(o,t){return Os(o,{connectUnchecked:(n,r,s)=>{const l=n.bind(r)(...s);return al(l,t)}},t)}function En(o,t){const n=t?Object.assign({onTxRequested:Ie,onTxCancelled:Ie,onTxSent:Ie,onSignatureRequested:Ie,onSignatureCancelled:Ie,onSignatureReceived:Ie},t):{onTxRequested:Ie,onTxCancelled:Ie,onTxSent:Ie,onSignatureRequested:Ie,onSignatureCancelled:Ie,onSignatureReceived:Ie},r=new Proxy(o.getSigner,{apply:(s,l,i)=>{const a=s.bind(o)(...i);return cl(a,n)}});return new Proxy(o,{get:(s,l)=>l==="getSigner"?r:s[l]})}const ul=6e3,Nn=6001,fl=1e3,Bs=2001,dl=2002,hl=2003;var Ue=globalThis&&globalThis.__awaiter||function(o,t,n,r){function s(l){return l instanceof n?l:new n(function(i){i(l)})}return new(n||(n=Promise))(function(l,i){function a(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?l(h.value):s(h.value).then(a,c)}u((r=r.apply(o,t||[])).next())})};const $=Ts("web3w:index"),ml=typeof window<"u",vt={state:"Idle",probing:!1,available:void 0,error:void 0,vendor:void 0},Ls={state:"Idle",fetching:!1,stale:void 0,amount:void 0,error:void 0,blockNumber:void 0},ue={state:"Idle",connecting:!1,loadingData:!1,contracts:void 0,error:void 0},Cn={state:"Idle",connecting:!1,loadingData:!1,contracts:void 0,error:void 0},ee={state:"Idle",connecting:!1,disconnecting:!1,loadingModule:!1,unlocking:!1,address:void 0,options:["builtin"],selected:void 0,pendingUserConfirmation:void 0,error:void 0},xt={inProgress:!1,executing:!1,executionError:void 0,error:void 0};function Nt(o){const t=rl(o);return t.data=o,t}const Re=[],ye=Nt(ee),St=Nt(Re),kt=Nt(vt),Ae=Nt(ue),_t=Nt(Cn),Yt=Nt(Ls),ve=Nt(xt);let yt="_web3w_transactions",on="_web3w_previous_wallet_type";function G(o,t){for(const n of Object.keys(t)){const r=t,s=o;if(s.data[n]&&typeof r[n]=="object")for(const l of Object.keys(r[n]))s.data[n][l]=r[n][l];else s.data[n]=r[n]}try{$.debug(JSON.stringify(o.data,null,"  "))}catch(n){$.error(n,o.data)}o.set(o.data)}let ht=!1,Ee,Tn,me,wn,Un,Ye,bt,Ne,Ze,Ve,it,nt;const In={};function gl(o,t){return Ue(this,void 0,void 0,function*(){let n;if(typeof window<"u")try{const r=`_genesis_${t}`,s=yield o.getBlock("earliest");In[t]=s.hash;const l=localStorage.getItem(r);l!==s.hash?l?n=!0:(n=!1,localStorage.setItem(r,s.hash)):n=!1}catch{}return n})}function _l(o,t){return Ue(this,void 0,void 0,function*(){if(!Ee)throw new Error("no provider setup");try{yield Ee.send("wallet_switchEthereumChain",[{chainId:"0x"+parseInt(o).toString(16)}])}catch(n){if(n.code===4902)if(t&&t.rpcUrls&&t.rpcUrls.length>0)try{yield Ee.send("wallet_addEthereumChain",[{chainId:"0x"+parseInt(o).toString(16),rpcUrls:t.rpcUrls,chainName:t.chainName,blockExplorerUrls:t.blockExplorerUrls,iconUrls:t.iconUrls,nativeCurrency:t.nativeCurrency}])}catch(r){if(r.code!==4001)G(Ae,{error:r});else return}else G(Ae,{error:{code:hl,message:"Chain not available on your wallet"}});else if(n.code!==4001)G(Ae,{error:n});else return}})}function Rn(o){return Ue(this,void 0,void 0,function*(){if(o==="0xNaN"){if($.warn("onChainChanged bug (return 0xNaN), metamask bug?"),!me)throw new Error("no web3Provider to get chainId");o=yield Mn(me,"eth_chainId")}const t=parseInt(o.slice(2),16).toString();if($.debug("onChainChanged",{chainId:o,chainIdAsDecimal:t}),G(Ae,{contracts:void 0,addresses:void 0,state:"Connected",chainId:t,notSupported:void 0}),ee.address){jn(ee.address,t),$.log("LOAD_CHAIN from chainChanged");try{yield fn(t,ee.address,!0)}catch{}}})}function Ds(o){return o[0]!==ee.address}function $t(o){return Ue(this,void 0,void 0,function*(){if(!Ds(o)){$.debug("false account changed",o);return}$.debug("onAccountsChanged",{accounts:o});const t=o[0];if(t)if(G(ye,{address:t,state:"Ready"}),ue.chainId&&jn(t,ue.chainId),ue.state==="Connected")if(ue.chainId){$.log("LOAD_CHAIN from accountsChanged");try{yield fn(ue.chainId,t,!1)}catch{}}else throw new Error("no chainId while connected");else Sr(t);else Ks(),G(ye,{address:t,state:"Locked"}),Sr(t)})}function Mn(o,t,n){var r;if(o.request)return o.request({method:t,params:n});const s=(r=o.sendAsync)===null||r===void 0?void 0:r.bind(o);if(s)return new Promise((l,i)=>{s({method:t,params:n},(a,c)=>{a?i(a):c.error?i(c.error):l(c.result)})});throw new Error("provider not supported")}function Us(o){return new Promise(t=>{setTimeout(t,o)})}function pl(o,t){return Ue(this,void 0,void 0,function*(){for(;ht;){const n=yield Mn(o,"eth_chainId"),r=parseInt(n.slice(2),16).toString();if(ht&&ue.chainId!==r)try{t(n)}catch(s){$.error(s)}yield Us(3e3)}})}function Tr(o,t){return Ue(this,void 0,void 0,function*(){for(;ht;){let n=[];try{n=yield Mn(o,"eth_accounts")}catch{}if($.debug({accounts:n}),ht&&Ds(n))try{t(n)}catch(r){$.error(r)}yield Us(3e3)}})}function Ir(){me&&!ht&&($.log("LISTENNING"),me.on?(me.on("chainChanged",Rn),me.on("accountsChanged",$t),Tr(me,$t)):(pl(me,Rn),Tr(me,$t)),ht=!0)}function bl(){me&&ht&&($.log("STOP LISTENNING"),$.debug("stop listenning for changes..."),me.removeListener&&me.removeListener("chainChanged",Rn),me.removeListener&&me.removeListener("accountsChanged",$t),ht=!1)}function Ms(o){const t=o&&o.chainId;if(t){const n=parseInt(t.slice(2),16).toString();$.debug("onConnect",{chainId:t,chainIdAsDecimal:n})}else $.warn("onConnect","no connection object passed in")}function Vs(o){$.debug("onDisconnect",{error:o})}function wl(){me&&($.debug("listenning for connection..."),me.on&&me.on("connect",Ms),me.on&&me.on("disconnect",Vs))}function vl(){me&&($.debug("stop listenning for connection..."),me.removeListener&&me.removeListener("connect",Ms),me.removeListener&&me.removeListener("disconnect",Vs))}function js(o){return typeof o=="string"&&o.length>2&&o.slice(0,2).toLowerCase()==="0x"}function kl(o){return js(o)?""+parseInt(o.slice(2)):o}function yl(o){return js(o)?o:"0x"+parseInt(o).toString(16)}function Rr(o){ee.pendingUserConfirmation?ee.pendingUserConfirmation.push(o):ee.pendingUserConfirmation=[o],G(ye,{pendingUserConfirmation:ee.pendingUserConfirmation})}function Gt(o){if(ee.pendingUserConfirmation){const t=ee.pendingUserConfirmation.indexOf(o);t>=0&&(ee.pendingUserConfirmation.splice(t,1),ee.pendingUserConfirmation.length===0&&(ee.pendingUserConfirmation=void 0),G(ye,{pendingUserConfirmation:ee.pendingUserConfirmation}))}}const ln={onTxRequested:o=>{$.debug("onTxRequested",{txRequest:o}),Rr("transaction")},onTxCancelled:o=>{$.debug("onTxCancelled",{txRequest:o}),Gt("transaction")},onTxSent:({hash:o,from:t,gasLimit:n,nonce:r,gasPrice:s,maxFeePerGas:l,maxPriorityFeePerGas:i,data:a,value:c,chainId:u,to:h,submissionBlockTime:f})=>{if($.debug("onTxSent",{hash:o,from:t,gasLimit:n,nonce:r,gasPrice:s,data:a,value:c,chainId:u,to:h}),o){const _={hash:o,from:t,acknowledged:!1,status:"pending",to:h,nonce:r,gasLimit:n?.toString(),gasPrice:s?.toString(),maxFeePerGas:l?.toString(),maxPriorityFeePerGas:i?.toString(),data:a,value:c?.toString(),submissionBlockTime:f,confirmations:0,finalized:!1};Sl(t,u,_)}Gt("transaction")},onSignatureRequested:o=>{$.debug("onSignatureRequested",{sigRequest:o}),Rr("signature")},onSignatureCancelled:o=>{$.debug("onSignatureCancelled",{sigRequest:o}),Gt("signature")},onSignatureReceived:o=>{$.debug("onSignatureReceived",{sigResponse:o}),Gt("signature")},onContractTxRequested:({from:o,contractName:t,method:n,overrides:r,metadata:s})=>{$.debug("onContractTxRequest",{from:o,contractName:t,method:n,overrides:r,metadata:s})},onContractTxCancelled:({from:o,contractName:t,method:n,overrides:r,metadata:s})=>{$.debug("onContractTxCancelled",{from:o,contractName:t,method:n,overrides:r,metadata:s})},onContractTxSent:({hash:o,from:t,contractName:n,method:r,args:s,eventsABI:l,overrides:i,metadata:a,to:c,chainId:u})=>{var h,f,_;if($.debug("onContractTxSent",{hash:o,from:t,contractName:n,method:r,args:s,eventsABI:l,overrides:i,metadata:a,to:c}),o){let p;i&&i.nonce&&(p=parseInt(i.nonce.toString()));const b={hash:o,from:t,acknowledged:!1,contractName:n,method:r,args:s,eventsABI:l,metadata:a,to:c,nonce:p,gasLimit:(h=i?.gasLimit)===null||h===void 0?void 0:h.toString(),gasPrice:(f=i?.gasPrice)===null||f===void 0?void 0:f.toString(),value:(_=i?.value)===null||_===void 0?void 0:_.toString()};zs(t,u,b,!1)}}};function Fs(o){try{localStorage.setItem(on,o)}catch{}}function El(){try{return localStorage.getItem(on)}catch{return null}}let zt;function Nl(o){return Ue(this,void 0,void 0,function*(){Un=o,Ne.fallbackNode&&(yield Qs(Ne.fallbackNode,o)),ue.chainId&&ee.address&&(yield fn(ue.chainId,ee.address,!1))})}function Cl(o){return Ue(this,void 0,void 0,function*(){if(zt)try{yield zt}catch{}zt=Nl(o),yield zt})}function Hs(o,t){return Ue(this,void 0,void 0,function*(){const n=Vn(t);let r;if(ue.state==="Idle"){G(Ae,{connecting:!0});let s;try{s=(yield n.getNetwork()).chainId,s===0&&(s=1337,$.error("giving chainId = 0, assume local 1337?"))}catch{const i={code:Bs,message:"Failed to fetch chainId"};throw G(Ae,{error:i,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"}),new Error(i.message)}r=String(s),G(Ae,{chainId:r,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Connected"})}else r=ue.chainId;if(!r){const s={code:dl,message:"chainId is not set even though chain is connected"};throw G(Ae,{error:s,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"}),new Error(s.message)}jn(o,r),$.log("LOAD_CHAIN from setupChain");try{yield fn(r,o,t)}catch{}})}function xs(o,t){if(o.chainId){const n=o;if(t===n.chainId||t==kl(n.chainId))return n.contracts;throw{code:Nn,message:`chainConfig only available for ${n.chainId}, not available for ${t}`}}else{const n=o,r=n[t]||n[yl(t)];if(r)return r.contracts;throw{code:Nn,message:`chainConfig not available for ${t}`}}}function fn(o,t,n){return Ue(this,void 0,void 0,function*(){const r=Vn(n);G(Ae,{loadingData:!0});const s={},l={};let i=Un;if(Ne.checkGenesis){const a=yield gl(r,o);ue.genesisChanged!==a&&G(Ae,{genesisChanged:a})}if(typeof i=="function"&&(i=yield i(o)),i){let a;try{a=xs(i,o)}catch(c){if(c.code===Nn){G(Ae,{chainId:o,notSupported:!0,connecting:!1,loadingData:!1,state:"Connected"});return}else throw G(Ae,{error:c,chainId:o,connecting:!1,loadingData:!1,state:"Connected"}),new Error(c.message||c)}for(const c of Object.keys(a)){const u=a[c];u.abi&&($.log({contractName:c}),s[c]=As(new Ln(u.address,u.abi,Ne.transactions.waitForTransactionDetails?r.getSigner(t):r.getSigner(t).connectUnchecked()),c,o,ln)),l[c]=u.address}}if(G(Ae,{state:"Ready",loadingData:!1,connecting:!1,chainId:o,addresses:l,contracts:s}),ee.state==="Ready"&&($.log("READY"),Ve&&xt.executionError===void 0&&!xt.executing)){$.log(" => executing...");const a=Ve;if(nt){let c;try{$.log("executing after chain Setup"),c=nt(s)}catch(u){G(ve,{executionError:u,executing:!1});return}"then"in c?(G(ve,{error:void 0,executionError:void 0,executing:!0}),c.then(()=>{G(ve,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),a(s),Ze=void 0,it=void 0,Ve=void 0}).catch(u=>{G(ve,{executionError:u,executing:!1})})):(G(ve,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),Ve(s),Ze=void 0,it=void 0,Ve=void 0)}else G(ve,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),Ve(s),Ze=void 0,it=void 0,Ve=void 0}})}function Vn(o){if(Ee===void 0||me===void 0){const t={code:ul,message:"no provider setup yet"};throw G(Ae,{error:t,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle",genesisChanged:void 0}),new Error(t.message)}else o&&(Ee=En(new Ht(me),ln));return Ee}function Sr(o){const t=Vn(!1),n=ue.contracts;if(!!n)for(const r of Object.keys(n))n[r]=n[r].connect(o?t.getSigner(o):t)}function qs(o,t){return Ue(this,void 0,void 0,function*(){ee.selected&&(ee.state==="Ready"||ee.state==="Locked")&&(yield Vt());let n=o;if(!n)if(bt.length===0)n="builtin";else if(bt.length===1)n=bt[0];else{const l=`No Wallet Type Specified, choose from ${ee.options}`;throw new Error(l)}if(n=="builtin"&&vt.state==="Ready"&&!vt.available){const l="No Builtin Wallet";throw new Error(l)}if(G(ye,{address:void 0,connecting:!0,selected:o,state:"Idle",error:void 0}),Ee=void 0,me=void 0,n==="builtin"){Ye=void 0;const l=yield Sn();me=l,Ee=En(new Ht(l),ln)}else{let l;if(typeof n=="string"){if(bt)for(const i of bt)typeof i!="string"&&i.id===o&&(l=i)}else l=n,o=l.id;if(!l){const i=`no module found ${o}`;throw G(ye,{error:{message:i,code:1},selected:void 0,connecting:!1}),new Error(i)}try{"load"in l&&(G(ye,{loadingModule:!0}),l=yield l.load(),G(ye,{loadingModule:!1})),$.log("setting up module");const{web3Provider:i}=yield l.setup(t);$.log("module setup"),me=i,Ee=En(new Ht(me),ln),Ye=l}catch(i){throw i.message==="USER_CANCELED"?G(ye,{connecting:!1,selected:void 0,loadingModule:!1}):G(ye,{error:{code:fl,message:i.message},selected:void 0,connecting:!1,loadingModule:!1}),i}}if(!Ee){const l=`no provider found for wallet type ${o}`;throw G(ye,{error:{message:l,code:1},selected:void 0,connecting:!1}),new Error(l)}wl();let r;try{if(o==="builtin"&&vt.vendor==="Metamask")r=yield ll(4e3,Ee.listAccounts(),{error:'Metamask timed out. Please reload the page (see <a href="https://github.com/MetaMask/metamask-extension/issues/7221">here</a>)'});else{$.log("fetching accounts...");try{r=yield Ee.listAccounts()}catch(l){if(l.code===4100)$.log(`4100 ${l.name}`),r=[];else if(l.code===-32500&&l.message==="permission denied")vt.vendor==="Opera"?$.log("permission denied (opera) crypto wallet not enabled?)"):$.log("permission denied"),r=[];else if(l.code===4001)r=[];else throw l}$.log(`accounts: ${r}`)}}catch(l){throw G(ye,{error:l,selected:void 0,connecting:!1}),l}Fs(o);const s=r&&r[0];s?(G(ye,{address:s,state:"Ready",connecting:void 0}),Ir(),$.log("SETUP_CHAIN from select"),yield Hs(s,!1)):(Ir(),G(ye,{address:void 0,state:"Locked",connecting:void 0}))})}let Jt;function Sn(){return Jt||(Jt=new Promise((o,t)=>Ue(this,void 0,void 0,function*(){if(wn&&vt.state==="Ready")return o(wn);G(kt,{probing:!0});try{const n=yield sl();n?(n.autoRefreshOnNetworkChange=!1,wn=n,G(kt,{state:"Ready",vendor:ol(n),available:!0,probing:!1})):G(kt,{state:"Ready",vendor:void 0,available:!1,probing:!1}),o(n)}catch(n){return G(kt,{error:n.message||n,vendor:void 0,available:void 0,probing:!1}),t(n)}})),Jt)}function Mt(o,t){return Ue(this,void 0,void 0,function*(){return yield qs(o,t),ee.state==="Locked"?dn():!0})}function Kt(o){return()=>{G(o,{error:void 0})}}function Xt(o){bl(),vl(),G(ye,{state:"Idle",address:void 0,connecting:!1,unlocking:void 0,selected:void 0,error:void 0}),Ks(),G(Yt,{state:"Idle",amount:void 0,error:void 0,blockNumber:void 0}),G(Ae,{contracts:void 0,addresses:void 0,state:"Idle",notSupported:void 0,chainId:void 0,error:void 0,genesisChanged:void 0}),o||(G(ve,{error:void 0,executing:!1,executionError:void 0,inProgress:!1}),nt=void 0,it=void 0,Ve=void 0,Ze=void 0),Fs("")}function Vt(o){if(ee.disconnecting)throw new Error("already disconnecting");const t=o&&o.logout,n=o&&o.wait,r=o&&o.keepFlow;return new Promise((s,l)=>{if(Ye)if(t){let i;try{i=Ye.logout()}catch(a){l(a)}n&&i&&"then"in i?(G(ye,{disconnecting:!0}),i.then(()=>{Ye&&Ye.disconnect(),Ye=void 0,Xt(r),G(ye,{disconnecting:!1}),s()}).catch(a=>{G(ye,{disconnecting:!1,error:a}),l(a)})):(Ye.disconnect(),Ye=void 0,Xt(r),s())}else Ye.disconnect(),Ye=void 0,Xt(r),s();else Xt(r),s()})}let Ot;function dn(){if(Ot)return Ot;let o=!1;const t=new Promise((n,r)=>Ue(this,void 0,void 0,function*(){if(ee.state==="Locked"){G(ye,{unlocking:!0});let s;try{s=yield Ee?.send("eth_requestAccounts",[]),s=s||[]}catch(l){console.error(l),s=[]}if(s.length>0){const l=s[0];G(ye,{address:l,state:"Ready",unlocking:void 0}),$.log("SETUP_CHAIN from unlock"),yield Hs(l,!0)}else return G(ye,{unlocking:!1}),Ot=void 0,o=!0,n(!1);return Ot=void 0,o=!0,n(!0)}else return o=!0,r(new Error("Not Locked"))}));return o||(Ot=t),t}function Tl(){if($.log("RETRYING..."),G(ve,{executionError:void 0}),ue.state==="Ready"&&ee.state==="Ready")if(ue.contracts){const o=ue.contracts;if(nt){let t;try{$.log("EXECUTING RETRY"),t=nt(o)}catch(n){return G(ve,{executionError:n,executing:!1}),Promise.reject(n)}if("then"in t)return G(ve,{executing:!0}),t.then(()=>(nt=void 0,G(ve,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),Ve&&Ve(o))).catch(n=>(G(ve,{executionError:n,executing:!1}),Promise.reject(n)))}return Ve&&Ve(o),Promise.resolve()}else return Promise.reject("contracts not set");return ee.state==="Locked"?Ne.flow&&Ne.flow.autoUnlock&&dn().catch(o=>{G(ve,{error:o})}):ee.state==="Idle"&&ee.options.length===1&&Ne.flow&&Ne.flow.autoSelect&&Mt(ee.options[0]).catch(o=>{G(ve,{error:o})}),Ze?Ze.then(()=>{}):Promise.resolve()}function Il(o,t){return xt.inProgress&&Gs(),Ws(void 0,o,t)}function Rl(o){return Ws(o)}function Ws(o,t,n){if(xt.inProgress)throw new Error("flow in progress");if(ue.state==="Ready"&&ee.state==="Ready"&&(!t||t===ee.selected))if(it=void 0,Ve=void 0,Ze=void 0,ue.contracts){const r=ue.contracts;if(o){let s;try{$.log("EXECUTING DIRECT"),s=o(r)}catch(l){return G(ve,{executionError:l,executing:!1}),Promise.reject(l)}if("then"in s)return nt=o,G(ve,{inProgress:!0,error:void 0,executing:!0}),s.then(()=>(nt=void 0,G(ve,{inProgress:!1,error:void 0,executionError:void 0}),r)).catch(l=>(G(ve,{executionError:l,executing:!1}),Promise.reject(l)))}return Promise.resolve(r)}else return Promise.reject("contracts not set");return Ze||(nt=o,G(ve,{inProgress:!0,executing:!1,executionError:void 0,error:void 0}),Ze=new Promise((r,s)=>{Ve=r,it=s}),t&&t!==ee.selected?ee.selected?Vt({keepFlow:!0}).catch(r=>{G(ve,{error:r})}).then(()=>{Mt(t,n).catch(r=>{G(ve,{error:{code:11,message:`failed to connect to ${t}`,errorObject:r}}),Vt()})}):Mt(t,n).catch(r=>{G(ve,{error:{code:11,message:`failed to connect to ${t}`,errorObject:r}}),Vt()}):ee.state==="Locked"?Ne.flow&&Ne.flow.autoUnlock&&dn().catch(r=>{G(ve,{error:r})}):ee.state==="Idle"&&ee.options.length===1&&Ne.flow&&Ne.flow.autoSelect&&Mt(ee.options[0]).catch(r=>{G(ve,{error:r})}),Ze)}function Gs(){it&&it({code:1,message:"Cancel"}),Ze=void 0,it=void 0,Ve=void 0,nt=void 0,G(ve,{inProgress:!1,error:void 0,executionError:void 0,executing:!1})}function Sl(o,t,n){Js(o,t,n,!0)}function zs(o,t,n,r){Js(o,t,n,r)}function Js(o,t,n,r){if(ee.address&&ee.address.toLowerCase()===o.toLowerCase()&&ue.chainId&&t===ue.chainId){$.log("TransactionRecord",n);const s=Re.find(l=>l.hash===n.hash);if(s){const l=s,i=n;for(const a of Object.keys(i))(r||!r&&l[a]===void 0)&&(l[a]=i[a])}else Re.push(n);try{localStorage.setItem(yt+`_${o.toLowerCase()}_${t}`,JSON.stringify(Re))}catch{}St.set(Re)}else try{const s=yt+`_${o.toLowerCase()}_${t}`,l=localStorage.getItem(s)||"[]",i=JSON.parse(l),a=i.find(c=>c.hash===n.hash);if(a){const c=a,u=n;for(const h of Object.keys(n))(!r&&c[h]===void 0||r&&u[h]!==void 0)&&(c[h]=u[h])}else i.push(n);localStorage.setItem(s,JSON.stringify(i))}catch{}}function Ks(){Re.splice(0,Re.length),St.set(Re),Xs()}function jn(o,t){try{const n=localStorage.getItem(yt+`_${o.toLowerCase()}_${t}`);let r=[];n&&(r=JSON.parse(n)),Re.splice(0,Re.length,...r),St.set(Re),Pl(o,t)}catch{}}let lt;function Pl(o,t){Xs(),Pr(o,t),lt=setInterval(()=>Pr(o,t),Ne.transactions.pollingPeriod*1e3)}function Xs(){lt&&(clearInterval(lt),lt=void 0)}let vn=!1;function Pr(o,t){return Ue(this,void 0,void 0,function*(){if(vn)return;vn=!0;const n=Ne.transactions.finality,r=Re.concat();for(const s of r){if(!Ee||ee.address!==o||ue.chainId!==t||!lt)break;let l;try{l=yield Ee.getBlock("latest")}catch(f){$.error(f);break}if(s.finalized)continue;if(!Ee||ee.address!==o||ue.chainId!==t||!lt)break;let i=0;if(l.number>=n)try{i=yield Ee.getTransactionCount(o,l.number-Math.max(1,n)+1)}catch(f){$.error(f);break}if(!Ee||ee.address!==o||ue.chainId!==t||!lt)break;let a=0;try{a=yield Ee.getTransactionCount(o)}catch(f){$.error(f);break}if(!Ee||ee.address!==o||ue.chainId!==t||!lt)break;let c;try{c=yield Ee.getTransactionReceipt(s.hash)}catch(f){$.error(f);continue}if(ee.address!==o||ue.chainId!==t||!lt)break;const u={hash:s.hash};let h=!1;if(!c||!c.blockHash)i>s.nonce?(u.status="cancelled",u.finalized=!0,u.confirmations=Math.max(1,n),(s.acknowledged||Ne.transactions.autoDelete)&&(h=!0)):a>s.nonce?(u.status="cancelled",u.confirmations=1):(u.status="pending",u.confirmations=0),u.blockHash=void 0,u.blockNumber=void 0,u.events=void 0;else{if(c.status!==void 0){const f=c.status===1;u.status=f?"success":"failure",f&&(u.events=[])}else c.logs.length>0?u.status="success":u.status="mined";if(s.eventsABI&&c.logs.length>0){const f=new Dn(s.eventsABI);u.events=c.logs.reduce((_,p)=>{let b;try{b=f.parseLog(p)}catch(w){$.error(w)}if(b){const w={};for(const k of Object.keys(b.args)){const y=b.args[k];w[k]=JSON.parse(JSON.stringify(y))}const B={args:w,name:b.name,signature:b.signature};_.push(B)}return _},[])}u.blockHash=c.blockHash,u.confirmations=c.confirmations,c.confirmations>=n&&(u.finalized=!0,(s.acknowledged||Ne.transactions.autoDelete)&&(h=!0))}if(s.status!==u.status&&(u.acknowledged=!1),h)Zs(s.hash);else{u.lastCheck=l.timestamp;try{zs(o,t,u,!0)}catch(f){$.error(f)}}}vn=!1})}function Zs(o){if($.log(`deleting  ${o}`),ee.address&&ue.chainId){const t=Re.findIndex(n=>n.hash===o);Re.splice(t,1);try{localStorage.setItem(yt+`_${ee.address.toLowerCase()}_${ue.chainId}`,JSON.stringify(Re))}catch{}St.set(Re)}}function Qs(o,t){return Ue(this,void 0,void 0,function*(){typeof o=="string"&&(o=new un(o)),Tn=o,G(_t,{connecting:!0});let n;try{n=(yield o.getNetwork()).chainId}catch{G(_t,{error:{code:Bs,message:"Failed to fetch chainId from fallback"},connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"});return}const r=String(n);G(_t,{chainId:r,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Connected"}),G(_t,{loadingData:!0}),typeof t=="function"&&(t=yield t(r));const s={},l={};if(t){let i;try{i=xs(t,r)}catch(a){throw G(_t,{error:a,chainId:r,connecting:!1,loadingData:!1,state:"Connected"}),new Error(a.message||a)}for(const a of Object.keys(i)){const c=i[a];c.abi&&($.log({contractName:a}),s[a]=new Ln(c.address,c.abi,o)),l[a]=c.address}}G(_t,{state:"Ready",loadingData:!1,connecting:!1,chainId:r,addresses:l,contracts:s})})}function qt(o){Ne={builtin:{autoProbe:o.builtin?o.builtin.autoProbe:!1},flow:{autoSelect:!!(o.flow&&o.flow.autoSelect),autoUnlock:!!(o.flow&&o.flow.autoUnlock)},debug:o.debug||!1,chainConfigs:o.chainConfigs,options:o.options||[],autoSelectPrevious:!!o.autoSelectPrevious,localStoragePrefix:o.localStoragePrefix||"",transactions:{waitForTransactionDetails:o.transactions&&o.transactions.waitForTransactionDetails||!1,autoDelete:o.transactions&&typeof o.transactions.autoDelete<"u"?o.transactions.autoDelete:!0,finality:o.transactions&&o.transactions.finality||12,pollingPeriod:o.transactions&&o.transactions.pollingPeriod||10},checkGenesis:o.checkGenesis||!1,fallbackNode:o.fallbackNode},(!Ne.options||Ne.options.length===0)&&(Ne.options=["builtin"]),on=Ne.localStoragePrefix+on,yt=Ne.localStoragePrefix+yt;const{debug:t,chainConfigs:n,builtin:r}=Ne;if(Un=n,o.fallbackNode&&Qs(o.fallbackNode,n),t&&typeof window<"u"&&(window.$wallet=ee,window.$transactions=Re),bt=Ne.options,G(ye,{state:"Idle",options:bt.map(s=>{if(typeof s=="object"){if(!s.id)throw new Error("options need to be string or have an id");return s.id}return s})}),G(kt,{state:"Idle"}),G(Ae,{state:"Idle"}),G(Yt,{state:"Idle"}),ml){if(o.autoSelectPrevious){const s=El();s&&s!==""&&qs(s)}r.autoProbe&&Sn()}return{transactions:{subscribe:St.subscribe,acknowledge(s,l){if(ee.address&&ue.chainId){const i=Re.find(a=>a.hash===s);if(i)if(i.finalized)Zs(s);else{i.lastAcknowledgment=l,i.acknowledged=!0;try{localStorage.setItem(yt+`_${ee.address.toLowerCase()}_${ue.chainId}`,JSON.stringify(Re))}catch{}St.set(Re)}}}},balance:{subscribe:Yt.subscribe,acknowledgeError:Kt(Yt)},chain:{subscribe:Ae.subscribe,acknowledgeError:Kt(Ae),acknowledgeNewGenesisHash(){const s=ue.chainId;if(s)if(In[s]){const l=`_genesis_${s}`;localStorage.setItem(l,In[s]),G(Ae,{genesisChanged:!1})}else throw new Error(`no genesisHash for chainId: ${s}`);else throw new Error("no chainId")},get contracts(){return ue.contracts},updateContracts(s){return Cl(s)},switchChain:_l},fallback:{subscribe:_t.subscribe,get contracts(){return Cn.contracts},get state(){return Cn.state},get provider(){return Tn}},builtin:{subscribe:kt.subscribe,acknowledgeError:Kt(kt),probe:Sn,get vendor(){return vt.vendor}},wallet:{subscribe:ye.subscribe,connect:Mt,unlock:dn,acknowledgeError:Kt(ye),disconnect:Vt,get options(){return ee.options},get address(){return ee.address},get provider(){return Ee},get web3Provider(){return me},get selected(){return ee.selected},get chain(){return ue},get contracts(){return ue.contracts},get balance(){return Ls.amount},get fallbackProvider(){return Tn}},flow:{subscribe:ve.subscribe,execute:Rl,retry:Tl,cancel:Gs,connect:Il}}}function Ar(o,t,n){const r=o.slice();return r[26]=t[n],r[27]=t,r[28]=n,r}function Or(o,t,n){const r=o.slice();return r[29]=t[n],r}function Br(o){let t,n,r,s=o[1].name+"",l,i,a,c,u,h,f,_,p,b,w,B,k=o[6].state!=="Ready"&&Lr(o),y=o[6].state==="Ready"&&Ur(o),I=o[3]&&Vr(o);return{c(){t=S("div"),n=S("h3"),r=x("Write "),l=x(s),i=F(),k&&k.c(),a=F(),y&&y.c(),c=F(),I&&I.c(),u=F(),h=S("div"),f=S("div"),_=S("button"),p=x("Close"),this.h()},l(C){t=P(C,"DIV",{class:!0});var D=N(t);n=P(D,"H3",{class:!0});var L=N(n);r=q(L,"Write "),l=q(L,s),L.forEach(m),i=H(D),k&&k.l(D),a=H(D),y&&y.l(D),c=H(D),I&&I.l(D),D.forEach(m),u=H(C),h=P(C,"DIV",{class:!0});var T=N(h);f=P(T,"DIV",{class:!0});var R=N(f);_=P(R,"BUTTON",{class:!0});var v=N(_);p=q(v,"Close"),v.forEach(m),R.forEach(m),T.forEach(m),this.h()},h(){d(n,"class","text-2xl font-medium leading-6 mb-5"),d(t,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left p-10 bg-base-200 rounded-box"),d(_,"class","btn btn-sm glass bg-primary"),d(f,"class","flex rounded-md w-full justify-center"),d(h,"class","mt-5 sm:mt-6")},m(C,D){j(C,t,D),g(t,n),g(n,r),g(n,l),g(t,i),k&&k.m(t,null),g(t,a),y&&y.m(t,null),g(t,c),I&&I.m(t,null),j(C,u,D),j(C,h,D),g(h,f),g(f,_),g(_,p),b=!0,w||(B=le(_,"click",o[13]),w=!0)},p(C,D){(!b||D[0]&2)&&s!==(s=C[1].name+"")&&he(l,s),C[6].state!=="Ready"?k?k.p(C,D):(k=Lr(C),k.c(),k.m(t,a)):k&&(k.d(1),k=null),C[6].state==="Ready"?y?y.p(C,D):(y=Ur(C),y.c(),y.m(t,c)):y&&(y.d(1),y=null),C[3]?I?(I.p(C,D),D[0]&8&&K(I,1)):(I=Vr(C),I.c(),K(I,1),I.m(t,null)):I&&(Oe(),te(I,1,1,()=>{I=null}),Be())},i(C){b||(K(I),b=!0)},o(C){te(I),b=!1},d(C){C&&m(t),k&&k.d(),y&&y.d(),I&&I.d(),C&&m(u),C&&m(h),w=!1,B()}}}function Lr(o){let t,n=o[7].available&&Dr(o);return{c(){n&&n.c(),t=Se()},l(r){n&&n.l(r),t=Se()},m(r,s){n&&n.m(r,s),j(r,t,s)},p(r,s){r[7].available?n?n.p(r,s):(n=Dr(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&m(t)}}}function Dr(o){let t,n,r,s;return{c(){t=S("button"),n=x("Connect"),this.h()},l(l){t=P(l,"BUTTON",{class:!0});var i=N(t);n=q(i,"Connect"),i.forEach(m),this.h()},h(){d(t,"class","btn btn-sm glass bg-primary")},m(l,i){j(l,t,i),g(t,n),r||(s=le(t,"click",o[16]),r=!0)},p:ge,d(l){l&&m(t),r=!1,s()}}}function Ur(o){let t,n,r,s,l,i,a,c,u,h=o[1].methods.filter(qr),f=[];for(let _=0;_<h.length;_+=1)f[_]=Mr(Or(o,h,_));return{c(){t=S("div"),n=S("label"),r=x("Choose a Method to Interact With"),s=F(),l=S("select"),i=S("option"),a=x("Select a method ");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){t=P(_,"DIV",{class:!0});var p=N(t);n=P(p,"LABEL",{for:!0,class:!0});var b=N(n);r=q(b,"Choose a Method to Interact With"),b.forEach(m),s=H(p),l=P(p,"SELECT",{name:!0,class:!0});var w=N(l);i=P(w,"OPTION",{});var B=N(i);a=q(B,"Select a method "),B.forEach(m);for(let k=0;k<f.length;k+=1)f[k].l(w);w.forEach(m),p.forEach(m),this.h()},h(){d(n,"for","selectMethod"),d(n,"class","label"),i.__value=null,i.value=i.__value,d(l,"name","selectMethod"),d(l,"class","select select-bordered"),o[3]===void 0&&ws(()=>o[17].call(l)),d(t,"class","form-control w-full max-w-xs")},m(_,p){j(_,t,p),g(t,n),g(n,r),g(t,s),g(t,l),g(l,i),g(i,a);for(let b=0;b<f.length;b+=1)f[b].m(l,null);en(l,o[3]),c||(u=[le(l,"change",o[17]),le(l,"change",o[18])],c=!0)},p(_,p){if(p[0]&2){h=_[1].methods.filter(qr);let b;for(b=0;b<h.length;b+=1){const w=Or(_,h,b);f[b]?f[b].p(w,p):(f[b]=Mr(w),f[b].c(),f[b].m(l,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=h.length}p[0]&10&&en(l,_[3])},d(_){_&&m(t),Qe(f,_),c=!1,Et(u)}}}function Mr(o){let t,n=o[29].fragment.name+"",r,s,l;return{c(){t=S("option"),r=x(n),s=F(),this.h()},l(i){t=P(i,"OPTION",{class:!0});var a=N(t);r=q(a,n),s=H(a),a.forEach(m),this.h()},h(){t.__value=l=o[29],t.value=t.__value,d(t,"class","font-semibold")},m(i,a){j(i,t,a),g(t,r),g(t,s)},p(i,a){a[0]&2&&n!==(n=i[29].fragment.name+"")&&he(r,n),a[0]&2&&l!==(l=i[29])&&(t.__value=l,t.value=t.__value)},d(i){i&&m(t)}}}function Vr(o){let t,n,r=o[3].fragment.name+"",s,l,i,a,c,u,h,f,_,p,b,w,B,k=o[3].fragment.inputs,y=[];for(let T=0;T<k.length;T+=1)y[T]=jr(Ar(o,k,T));const I=T=>te(y[T],1,1,()=>{y[T]=null});let C=o[6].pendingUserConfirmation&&Fr(),D=o[2].inProgress&&Hr(),L=o[5]&&xr(o);return{c(){t=S("form"),n=S("h3"),s=x(r),l=F();for(let T=0;T<y.length;T+=1)y[T].c();i=F(),a=S("button"),c=x("Execute"),u=F(),h=S("div"),f=S("p"),C&&C.c(),_=F(),D&&D.c(),p=F(),L&&L.c(),this.h()},l(T){t=P(T,"FORM",{class:!0});var R=N(t);n=P(R,"H3",{class:!0});var v=N(n);s=q(v,r),v.forEach(m),l=H(R);for(let E=0;E<y.length;E+=1)y[E].l(R);i=H(R),a=P(R,"BUTTON",{type:!0,class:!0});var O=N(a);c=q(O,"Execute"),O.forEach(m),R.forEach(m),u=H(T),h=P(T,"DIV",{class:!0});var U=N(h);f=P(U,"P",{class:!0});var M=N(f);C&&C.l(M),_=H(M),D&&D.l(M),p=H(M),L&&L.l(M),M.forEach(m),U.forEach(m),this.h()},h(){d(n,"class","text-lg font-semibold"),d(a,"type","submit"),d(a,"class","btn btn-sm glass bg-primary mt-3"),d(t,"class","py-3"),d(f,"class","w-full p-5"),d(h,"class","mt-2 flex justify-center h-72")},m(T,R){j(T,t,R),g(t,n),g(n,s),g(t,l);for(let v=0;v<y.length;v+=1)y[v].m(t,null);g(t,i),g(t,a),g(a,c),j(T,u,R),j(T,h,R),g(h,f),C&&C.m(f,null),g(f,_),D&&D.m(f,null),g(f,p),L&&L.m(f,null),b=!0,w||(B=le(t,"submit",vs(o[22])),w=!0)},p(T,R){if((!b||R[0]&8)&&r!==(r=T[3].fragment.name+"")&&he(s,r),R[0]&24){k=T[3].fragment.inputs;let v;for(v=0;v<k.length;v+=1){const O=Ar(T,k,v);y[v]?(y[v].p(O,R),K(y[v],1)):(y[v]=jr(O),y[v].c(),K(y[v],1),y[v].m(t,i))}for(Oe(),v=k.length;v<y.length;v+=1)I(v);Be()}T[6].pendingUserConfirmation?C||(C=Fr(),C.c(),C.m(f,_)):C&&(C.d(1),C=null),T[2].inProgress?D?R[0]&4&&K(D,1):(D=Hr(),D.c(),K(D,1),D.m(f,p)):D&&(Oe(),te(D,1,1,()=>{D=null}),Be()),T[5]?L?L.p(T,R):(L=xr(T),L.c(),L.m(f,null)):L&&(L.d(1),L=null)},i(T){if(!b){for(let R=0;R<k.length;R+=1)K(y[R]);K(D),b=!0}},o(T){y=y.filter(Boolean);for(let R=0;R<y.length;R+=1)te(y[R]);te(D),b=!1},d(T){T&&m(t),Qe(y,T),T&&m(u),T&&m(h),C&&C.d(),D&&D.d(),L&&L.d(),w=!1,B()}}}function Al(o){let t,n,r,s;function l(){o[21].call(t,o[28])}return{c(){t=S("input"),this.h()},l(i){t=P(i,"INPUT",{type:!0,name:!0,class:!0}),this.h()},h(){d(t,"type","text"),d(t,"name",n=o[26].name),d(t,"class","border-2 rounded m-2 input input-primary input-bordered")},m(i,a){j(i,t,a),dt(t,o[4][o[28]]),r||(s=le(t,"input",l),r=!0)},p(i,a){o=i,a[0]&10&&n!==(n=o[26].name)&&d(t,"name",n),a[0]&16&&t.value!==o[4][o[28]]&&dt(t,o[4][o[28]])},i:ge,o:ge,d(i){i&&m(t),r=!1,s()}}}function Ol(o){let t,n,r,s;function l(){o[20].call(t,o[28])}return{c(){t=S("input"),this.h()},l(i){t=P(i,"INPUT",{type:!0,name:!0}),this.h()},h(){d(t,"type","checkbox"),d(t,"name",n=o[26].name)},m(i,a){j(i,t,a),t.checked=o[4][o[28]],r||(s=le(t,"change",l),r=!0)},p(i,a){o=i,a[0]&10&&n!==(n=o[26].name)&&d(t,"name",n),a[0]&16&&(t.checked=o[4][o[28]])},i:ge,o:ge,d(i){i&&m(t),r=!1,s()}}}function Bl(o){let t,n;function r(...s){return o[19](o[28],...s)}return t=new Ps({props:{allowPaste:!0,class:"input"}}),t.$on("tags",r),{c(){xe(t.$$.fragment)},l(s){qe(t.$$.fragment,s)},m(s,l){We(t,s,l),n=!0},p(s,l){o=s},i(s){n||(K(t.$$.fragment,s),n=!0)},o(s){te(t.$$.fragment,s),n=!1},d(s){Ge(t,s)}}}function jr(o){let t,n,r,s=o[26].name+"",l,i,a,c=o[26].type+"",u,h,f,_,p,b,w;const B=[Bl,Ol,Al],k=[];function y(I,C){return C[0]&8&&(_=null),_==null&&(_=I[26].type.indexOf("[")>-1&&I[26].type.indexOf("]")>-1),_?0:I[26].type==="bool"?1:2}return p=y(o,[-1,-1]),b=k[p]=B[p](o),{c(){t=S("div"),n=S("label"),r=S("span"),l=x(s),i=F(),a=S("span"),u=x(c),f=F(),b.c(),this.h()},l(I){t=P(I,"DIV",{class:!0});var C=N(t);n=P(C,"LABEL",{for:!0,class:!0});var D=N(n);r=P(D,"SPAN",{class:!0});var L=N(r);l=q(L,s),L.forEach(m),i=H(D),a=P(D,"SPAN",{class:!0});var T=N(a);u=q(T,c),T.forEach(m),D.forEach(m),f=H(C),b.l(C),C.forEach(m),this.h()},h(){d(r,"class","label-text"),d(a,"class","badge font-mono font-thin"),d(n,"for",h=o[26].name),d(n,"class","label"),d(t,"class","ml-2 inline-block mr-2 form-control")},m(I,C){j(I,t,C),g(t,n),g(n,r),g(r,l),g(n,i),g(n,a),g(a,u),g(t,f),k[p].m(t,null),w=!0},p(I,C){(!w||C[0]&8)&&s!==(s=I[26].name+"")&&he(l,s),(!w||C[0]&8)&&c!==(c=I[26].type+"")&&he(u,c),(!w||C[0]&10&&h!==(h=I[26].name))&&d(n,"for",h);let D=p;p=y(I,C),p===D?k[p].p(I,C):(Oe(),te(k[D],1,1,()=>{k[D]=null}),Be(),b=k[p],b?b.p(I,C):(b=k[p]=B[p](I),b.c()),K(b,1),b.m(t,null))},i(I){w||(K(b),w=!0)},o(I){te(b),w=!1},d(I){I&&m(t),k[p].d()}}}function Fr(o){let t;return{c(){t=x("Please check and approve the transaction in your wallet.")},l(n){t=q(n,"Please check and approve the transaction in your wallet.")},m(n,r){j(n,t,r)},d(n){n&&m(t)}}}function Hr(o){let t,n,r;return n=new an({}),{c(){t=S("div"),xe(n.$$.fragment),this.h()},l(s){t=P(s,"DIV",{class:!0});var l=N(t);qe(n.$$.fragment,l),l.forEach(m),this.h()},h(){d(t,"class","self-center")},m(s,l){j(s,t,l),We(n,t,null),r=!0},i(s){r||(K(n.$$.fragment,s),r=!0)},o(s){te(n.$$.fragment,s),r=!1},d(s){s&&m(t),Ge(n)}}}function xr(o){let t,n,r=o[5].message+"",s;return{c(){t=S("div"),n=S("p"),s=x(r),this.h()},l(l){t=P(l,"DIV",{class:!0});var i=N(t);n=P(i,"P",{class:!0});var a=N(n);s=q(a,r),a.forEach(m),i.forEach(m),this.h()},h(){d(n,"class","text-red-500 font-semibold"),d(t,"class","self-center")},m(l,i){j(l,t,i),g(t,n),g(n,s)},p(l,i){i[0]&32&&r!==(r=l[5].message+"")&&he(s,r)},d(l){l&&m(t)}}}function Ll(o){let t,n,r=o[0]&&o[1]&&Br(o);return{c(){r&&r.c(),t=Se()},l(s){r&&r.l(s),t=Se()},m(s,l){r&&r.m(s,l),j(s,t,l),n=!0},p(s,l){s[0]&&s[1]?r?(r.p(s,l),l[0]&3&&K(r,1)):(r=Br(s),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Oe(),te(r,1,1,()=>{r=null}),Be())},i(s){n||(K(r),n=!0)},o(s){te(r),n=!1},d(s){r&&r.d(s),s&&m(t)}}}const qr=o=>!o.fragment.constant;function Dl(o,t,n){let r,s,l,i,{address:a}=t,{network:c}=t,{showModal:u=!1}=t,{facet:h=void 0}=t;const{wallet:f,builtin:_,flow:p,transactions:b,chain:w}=qt({});je(o,f,E=>n(6,r=E)),je(o,_,E=>n(7,i=E)),je(o,p,E=>n(2,s=E)),je(o,b,E=>n(23,l=E));let B=null,k=[],y=null;const I=async(E="builtin")=>{try{await f.connect(E),await w.updateContracts({chainId:Rt[c].chainId,contracts:{facet:{address:a,abi:h.methods.map(V=>V.fragment)}}})}catch{f.acknowledgeError(),await f.disconnect()}},C=async()=>{n(0,u=!1),n(3,B=null),n(4,k=[]),n(5,y=null),f.disconnect(),l.forEach(E=>b.acknowledge(E.hash,E.status)),D()};let D=w.subscribe(async E=>{!r.disconnecting&&E.chainId&&Rt[c].chainId!==E.chainId&&(await f.disconnect(),alert(`Invalid network. Pleae connect to ${c}.`))});Pn(async()=>{n(5,y=null),n(4,k=[]),D()});const L=()=>I();function T(){B=ks(this),n(3,B),n(1,h)}const R=()=>{n(4,k=[]),n(5,y=null)},v=(E,V)=>n(4,k[E]=V.detail.tags,k);function O(E){k[E]=this.checked,n(4,k)}function U(E){k[E]=this.value,n(4,k)}const M=()=>{n(5,y=null),p.execute(async E=>{const V=B.fragment.format(po.minimal).split(" ")[1];await E.facet[V](...k)})};return o.$$set=E=>{"address"in E&&n(14,a=E.address),"network"in E&&n(15,c=E.network),"showModal"in E&&n(0,u=E.showModal),"facet"in E&&n(1,h=E.facet)},o.$$.update=()=>{o.$$.dirty[0]&4&&s.executionError&&(n(5,y=s.executionError),p.cancel(),f.acknowledgeError())},[u,h,s,B,k,y,r,i,f,_,p,b,I,C,a,c,L,T,R,v,O,U,M]}class Ul extends at{constructor(t){super(),ct(this,t,Dl,Ll,ut,{address:14,network:15,showModal:0,facet:1},null,[-1,-1])}}function Wr(o,t,n){const r=o.slice();return r[4]=t[n],r}function Gr(o,t,n){const r=o.slice();return r[7]=t[n],r}function zr(o,t,n){const r=o.slice();return r[10]=t[n],r}function Jr(o){let t,n=o[10]+"",r;return{c(){t=S("span"),r=x(n),this.h()},l(s){t=P(s,"SPAN",{class:!0});var l=N(t);r=q(l,n),l.forEach(m),this.h()},h(){d(t,"class","badge badge-info badge-outline font-bold my-2")},m(s,l){j(s,t,l),g(t,r)},p(s,l){l&1&&n!==(n=s[10]+"")&&he(r,n)},d(s){s&&m(t)}}}function Kr(o){let t,n,r=o[3][o[7][1]]+"",s,l,i,a=o[7][0]+"",c,u,h,f,_,p,b,w,B=(o[1][o[7][0]]||"")+"",k,y,I,C,D=o[7][2],L=[];for(let T=0;T<D.length;T+=1)L[T]=Jr(zr(o,D,T));return{c(){t=S("div"),n=S("div"),s=x(r),l=F(),i=S("a"),c=x(a),u=F(),h=fe("svg"),f=fe("path"),_=fe("path"),b=F(),w=S("div"),k=x(B),y=F(),I=S("div");for(let T=0;T<L.length;T+=1)L[T].c();C=F(),this.h()},l(T){t=P(T,"DIV",{class:!0});var R=N(t);n=P(R,"DIV",{class:!0});var v=N(n);s=q(v,r),v.forEach(m),l=H(R),i=P(R,"A",{href:!0,class:!0,target:!0});var O=N(i);c=q(O,a),u=H(O),h=de(O,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var U=N(h);f=de(U,"path",{d:!0}),N(f).forEach(m),_=de(U,"path",{d:!0}),N(_).forEach(m),U.forEach(m),O.forEach(m),b=H(R),w=P(R,"DIV",{class:!0});var M=N(w);k=q(M,B),M.forEach(m),R.forEach(m),y=H(T),I=P(T,"DIV",{class:!0});var E=N(I);for(let V=0;V<L.length;V+=1)L[V].l(E);C=H(E),E.forEach(m),this.h()},h(){d(n,"class","badge badge-lg text-white uppercase font-semibold"),ft(n,"badge-primary",o[7][1]==0),ft(n,"badge-secondary",o[7][1]==1),ft(n,"badge-accent",o[7][1]==2),d(f,"d","M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"),d(_,"d","M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"),d(h,"class","w-3 h-3 md:w-4 md:h-4 inline ml-2"),d(h,"fill","currentColor"),d(h,"viewBox","0 0 20 20"),d(h,"xmlns","http://www.w3.org/2000/svg"),d(i,"href",p=tn(o[7][0],o[2])),d(i,"class","badge badge-info p-3 cursor-pointer text-xs lg:text-base"),d(i,"target","_blank"),d(w,"class","font-semibold"),d(t,"class","flex my-2 space-x-2 border-t border-gray-600 pt-3"),d(I,"class","flex flex-wrap space-x-1 ml-16")},m(T,R){j(T,t,R),g(t,n),g(n,s),g(t,l),g(t,i),g(i,c),g(i,u),g(i,h),g(h,f),g(h,_),g(t,b),g(t,w),g(w,k),j(T,y,R),j(T,I,R);for(let v=0;v<L.length;v+=1)L[v].m(I,null);g(I,C)},p(T,R){if(R&1&&r!==(r=T[3][T[7][1]]+"")&&he(s,r),R&1&&ft(n,"badge-primary",T[7][1]==0),R&1&&ft(n,"badge-secondary",T[7][1]==1),R&1&&ft(n,"badge-accent",T[7][1]==2),R&1&&a!==(a=T[7][0]+"")&&he(c,a),R&5&&p!==(p=tn(T[7][0],T[2]))&&d(i,"href",p),R&3&&B!==(B=(T[1][T[7][0]]||"")+"")&&he(k,B),R&1){D=T[7][2];let v;for(v=0;v<D.length;v+=1){const O=zr(T,D,v);L[v]?L[v].p(O,R):(L[v]=Jr(O),L[v].c(),L[v].m(I,C))}for(;v<L.length;v+=1)L[v].d(1);L.length=D.length}},d(T){T&&m(t),T&&m(y),T&&m(I),Qe(L,T)}}}function Xr(o){let t,n,r,s,l,i,a,c,u,h=new Date(o[4].timestamp*1e3).toUTCString()+"",f,_,p,b=o[4].txHash+"",w,B,k,y,I,C,D,L,T=o[4][0],R=[];for(let v=0;v<T.length;v+=1)R[v]=Kr(Gr(o,T,v));return{c(){t=S("li"),n=S("span"),r=x("\u{1F48E}"),s=F(),l=S("div"),i=S("h3"),a=x("Diamond Cut"),c=F(),u=S("time"),f=x(h),_=F(),p=S("a"),w=x(b),B=F(),k=fe("svg"),y=fe("path"),I=fe("path"),D=F();for(let v=0;v<R.length;v+=1)R[v].c();L=F(),this.h()},l(v){t=P(v,"LI",{class:!0});var O=N(t);n=P(O,"SPAN",{class:!0});var U=N(n);r=q(U,"\u{1F48E}"),U.forEach(m),s=H(O),l=P(O,"DIV",{class:!0});var M=N(l);i=P(M,"H3",{class:!0});var E=N(i);a=q(E,"Diamond Cut"),E.forEach(m),c=H(M),u=P(M,"TIME",{class:!0});var V=N(u);f=q(V,h),V.forEach(m),_=H(M),p=P(M,"A",{href:!0,class:!0,target:!0});var X=N(p);w=q(X,b),B=H(X),k=de(X,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var W=N(k);y=de(W,"path",{d:!0}),N(y).forEach(m),I=de(W,"path",{d:!0}),N(I).forEach(m),W.forEach(m),X.forEach(m),D=H(M);for(let z=0;z<R.length;z+=1)R[z].l(M);M.forEach(m),L=H(O),O.forEach(m),this.h()},h(){d(n,"class","flex absolute -left-3 justify-center items-center w-6 h-6 bg-primary-focus rounded-full ring-8 ring-primary"),d(i,"class","flex items-center mb-1 text-lg font-semibold"),d(u,"class","block mb-2 text-sm font-normal leading-none text-gray-400"),d(y,"d","M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"),d(I,"d","M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"),d(k,"class","w-3 h-3 md:w-4 md:h-4 inline ml-2"),d(k,"fill","currentColor"),d(k,"viewBox","0 0 20 20"),d(k,"xmlns","http://www.w3.org/2000/svg"),d(p,"href",C=Wn(o[4].txHash,o[2])),d(p,"class","badge badge-info p-3 cursor-pointer text-xs lg:text-base"),d(p,"target","_blank"),d(l,"class","ml-3"),d(t,"class","mb-10 ml-6")},m(v,O){j(v,t,O),g(t,n),g(n,r),g(t,s),g(t,l),g(l,i),g(i,a),g(l,c),g(l,u),g(u,f),g(l,_),g(l,p),g(p,w),g(p,B),g(p,k),g(k,y),g(k,I),g(l,D);for(let U=0;U<R.length;U+=1)R[U].m(l,null);g(t,L)},p(v,O){if(O&1&&h!==(h=new Date(v[4].timestamp*1e3).toUTCString()+"")&&he(f,h),O&1&&b!==(b=v[4].txHash+"")&&he(w,b),O&5&&C!==(C=Wn(v[4].txHash,v[2]))&&d(p,"href",C),O&15){T=v[4][0];let U;for(U=0;U<T.length;U+=1){const M=Gr(v,T,U);R[U]?R[U].p(M,O):(R[U]=Kr(M),R[U].c(),R[U].m(l,null))}for(;U<R.length;U+=1)R[U].d(1);R.length=T.length}},d(v){v&&m(t),Qe(R,v)}}}function Ml(o){let t,n,r,s,l,i,a,c,u,h,f=o[0].sort(Zr),_=[];for(let p=0;p<f.length;p+=1)_[p]=Xr(Wr(o,f,p));return{c(){t=S("div"),n=S("input"),r=F(),s=S("div"),l=fe("svg"),i=fe("path"),a=x(`
    Upgrade History`),c=F(),u=S("div"),h=S("ol");for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){t=P(p,"DIV",{class:!0});var b=N(t);n=P(b,"INPUT",{type:!0}),r=H(b),s=P(b,"DIV",{class:!0});var w=N(s);l=de(w,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var B=N(l);i=de(B,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(i).forEach(m),B.forEach(m),a=q(w,`
    Upgrade History`),w.forEach(m),c=H(b),u=P(b,"DIV",{class:!0});var k=N(u);h=P(k,"OL",{class:!0});var y=N(h);for(let I=0;I<_.length;I+=1)_[I].l(y);y.forEach(m),k.forEach(m),b.forEach(m),this.h()},h(){d(n,"type","checkbox"),d(i,"stroke-linecap","round"),d(i,"stroke-linejoin","round"),d(i,"stroke-width","2"),d(i,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),d(l,"class","w-8 h-8 mr-2 inline"),d(l,"fill","none"),d(l,"stroke","currentColor"),d(l,"viewBox","0 0 24 24"),d(l,"xmlns","http://www.w3.org/2000/svg"),d(s,"class","collapse-title text-xl font-medium"),d(h,"class","relative border-l border-gray-200 m-10"),d(u,"class","collapse-content overflow-y-auto"),d(t,"class","rounded-box bg-base-300 text-base-content collapse collapse-arrow")},m(p,b){j(p,t,b),g(t,n),g(t,r),g(t,s),g(s,l),g(l,i),g(s,a),g(t,c),g(t,u),g(u,h);for(let w=0;w<_.length;w+=1)_[w].m(h,null)},p(p,[b]){if(b&15){f=p[0].sort(Zr);let w;for(w=0;w<f.length;w+=1){const B=Wr(p,f,w);_[w]?_[w].p(B,b):(_[w]=Xr(B),_[w].c(),_[w].m(h,null))}for(;w<_.length;w+=1)_[w].d(1);_.length=f.length}},i:ge,o:ge,d(p){p&&m(t),Qe(_,p)}}}const Zr=(o,t)=>o.timestamp>t.timestamp?-1:1;function Vl(o,t,n){let{events:r=[]}=t,{facetsToName:s}=t,{network:l}=t;const i=["Add","Replace","Remove"];return o.$$set=a=>{"events"in a&&n(0,r=a.events),"facetsToName"in a&&n(1,s=a.facetsToName),"network"in a&&n(2,l=a.network)},[r,s,l,i]}class jl extends at{constructor(t){super(),ct(this,t,Vl,Ml,ut,{events:0,facetsToName:1,network:2})}}class Fl{constructor(t,n,r){this.address="",this.network="",this.name="",this.facets=[],this.selectors=[],this.events=[],this.isFinal=!0,this.isVerified=!0,this.facetsToName={},this.facetsToSelectors=new Map,this.abi=[],this.fetchContractDetails=async()=>{let s=await this.fetch("/api/contract",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:this.address,network:this.network})});const l=await s.json();this.name=l.name,s=await this.fetch("/api/facets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:this.address,network:this.network})});const i=await s.json();for(let a=0;a<i.length;a++){this.facetsToSelectors[i[a][0]]=i[a][1],this.selectors=this.selectors.concat(i[a][1]),s=await this.fetch("/api/contract",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:i[a][0],network:this.network})});const c=await s.json();let u=[];if(c.abi.length)c.abi.forEach(_=>{this.abi.push(_)}),u=await this.getMethods(i[a][0],c.abi);else{this.isVerified=!1;for(let _=0;_<i[a][1].length;_++){const p=String(i[a][1][_]);if(!this.selectors.includes(p))continue;let b="UNKNOWN";try{console.log("Fetching selector info from sig.eth.samczsun.com..."),s=await this.fetch(`https://sig.eth.samczsun.com/api/v1/signatures?function=${p}`,{method:"GET",headers:{"Content-Type":"application/json"}}),console.log("Fetched info from sig.eth.samczsun.com.");let w;if(s.ok)try{w=await s.json()}catch{console.log("Could not parse data")}w&&w.result&&w.result.function[p]&&w.result.function[p].length&&(b=w.result.function[p][0].name),b==="diamondCut((address,uint8,bytes4[])[],address,bytes)"&&(this.isFinal=!1)}catch(w){console.log(w)}u.push({selector:p,signature:b,fragment:void 0})}}const h=c.name,f={address:i[a][0].toLowerCase(),name:h,methods:u};this.facets.push(f),this.facetsToName[f.address]=f.name}try{s=await this.fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:this.address,network:this.network})}),this.events=await s.json(),await this.fetch("/api/leaderboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:this.address,network:this.network,name:this.name||"Unknown"})})}catch(a){console.error(a),this.events=[]}return this},this.getMethods=async(s,l)=>{const i=new Ln(s,l),a=[],c=i.interface.functions;for(const[u,h]of Object.entries(c)){u==="diamondCut((address,uint8,bytes4[])[],address,bytes)"&&(this.isFinal=!1);const f=bo(sn(u)).substring(0,10);if(!this.facetsToSelectors[s].includes(f))continue;const _={signature:u,selector:f,fragment:h};a.push(_)}return a},this.address=t,this.network=n,this.fetch=r}}function Qr(o){let t,n,r,s=o[1].name+"",l,i,a,c,u,h,f,_,p,b,w,B,k,y,I,C,D,L,T,R,v,O=o[5].state!=="Ready"&&Yr(o),U=o[5].state==="Ready"&&es(o),M=o[5].state==="Ready"&&ss(o);return{c(){t=S("div"),n=S("h3"),r=x("Remove "),l=x(s),i=F(),a=S("div"),c=S("div"),u=S("span"),h=x("\u{1F480}"),f=F(),_=S("label"),p=x(`This is a BETA feature and may break your diamond contract. This will remove this facet
          and all selectors from this contract!`),b=F(),w=S("div"),O&&O.c(),B=F(),U&&U.c(),k=F(),M&&M.c(),y=F(),I=S("div"),C=S("div"),D=S("button"),L=x("Close"),this.h()},l(E){t=P(E,"DIV",{class:!0});var V=N(t);n=P(V,"H3",{class:!0});var X=N(n);r=q(X,"Remove "),l=q(X,s),X.forEach(m),i=H(V),a=P(V,"DIV",{class:!0});var W=N(a);c=P(W,"DIV",{class:!0});var z=N(c);u=P(z,"SPAN",{class:!0});var J=N(u);h=q(J,"\u{1F480}"),J.forEach(m),f=H(z),_=P(z,"LABEL",{for:!0});var re=N(_);p=q(re,`This is a BETA feature and may break your diamond contract. This will remove this facet
          and all selectors from this contract!`),re.forEach(m),z.forEach(m),W.forEach(m),V.forEach(m),b=H(E),w=P(E,"DIV",{class:!0});var _e=N(w);O&&O.l(_e),_e.forEach(m),B=H(E),U&&U.l(E),k=H(E),M&&M.l(E),y=H(E),I=P(E,"DIV",{class:!0});var ne=N(I);C=P(ne,"DIV",{class:!0});var De=N(C);D=P(De,"BUTTON",{class:!0});var pe=N(D);L=q(pe,"Close"),pe.forEach(m),De.forEach(m),ne.forEach(m),this.h()},h(){d(n,"class","text-2xl font-medium leading-6 mb-5"),d(u,"class","text-2xl mr-2"),d(_,"for",""),d(c,"class","flex-1"),d(a,"class","alert alert-error"),d(t,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"),d(w,"class","container flex justify-center mt-5 gap-2"),d(D,"class","btn btn-sm glass bg-primary"),d(C,"class","flex rounded-md w-full justify-center"),d(I,"class","mt-5 sm:mt-6")},m(E,V){j(E,t,V),g(t,n),g(n,r),g(n,l),g(t,i),g(t,a),g(a,c),g(c,u),g(u,h),g(c,f),g(c,_),g(_,p),j(E,b,V),j(E,w,V),O&&O.m(w,null),j(E,B,V),U&&U.m(E,V),j(E,k,V),M&&M.m(E,V),j(E,y,V),j(E,I,V),g(I,C),g(C,D),g(D,L),T=!0,R||(v=le(D,"click",o[12]),R=!0)},p(E,V){(!T||V&2)&&s!==(s=E[1].name+"")&&he(l,s),E[5].state!=="Ready"?O?O.p(E,V):(O=Yr(E),O.c(),O.m(w,null)):O&&(O.d(1),O=null),E[5].state==="Ready"?U?(U.p(E,V),V&32&&K(U,1)):(U=es(E),U.c(),K(U,1),U.m(k.parentNode,k)):U&&(Oe(),te(U,1,1,()=>{U=null}),Be()),E[5].state==="Ready"?M?M.p(E,V):(M=ss(E),M.c(),M.m(y.parentNode,y)):M&&(M.d(1),M=null)},i(E){T||(K(U),T=!0)},o(E){te(U),T=!1},d(E){E&&m(t),E&&m(b),E&&m(w),O&&O.d(),E&&m(B),U&&U.d(E),E&&m(k),M&&M.d(E),E&&m(y),E&&m(I),R=!1,v()}}}function Yr(o){let t,n=o[6].available&&$r(o);return{c(){n&&n.c(),t=Se()},l(r){n&&n.l(r),t=Se()},m(r,s){n&&n.m(r,s),j(r,t,s)},p(r,s){r[6].available?n?n.p(r,s):(n=$r(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&m(t)}}}function $r(o){let t,n,r,s;return{c(){t=S("button"),n=x("Connect"),this.h()},l(l){t=P(l,"BUTTON",{class:!0});var i=N(t);n=q(i,"Connect"),i.forEach(m),this.h()},h(){d(t,"class","btn btn-sm glass bg-primary")},m(l,i){j(l,t,i),g(t,n),r||(s=le(t,"click",o[15]),r=!0)},p:ge,d(l){l&&m(t),r=!1,s()}}}function es(o){let t,n,r,s,l,i=o[5].pendingUserConfirmation&&ts(),a=o[2].inProgress&&ns(),c=o[3]&&rs(o);return{c(){t=S("div"),n=S("p"),i&&i.c(),r=F(),a&&a.c(),s=F(),c&&c.c(),this.h()},l(u){t=P(u,"DIV",{class:!0});var h=N(t);n=P(h,"P",{class:!0});var f=N(n);i&&i.l(f),r=H(f),a&&a.l(f),s=H(f),c&&c.l(f),f.forEach(m),h.forEach(m),this.h()},h(){d(n,"class","leading-5 bg-neutral-focus text-neutral-content w-full p-5 rounded-box overflow-auto"),d(t,"class","mt-2 flex justify-center h-72")},m(u,h){j(u,t,h),g(t,n),i&&i.m(n,null),g(n,r),a&&a.m(n,null),g(n,s),c&&c.m(n,null),l=!0},p(u,h){u[5].pendingUserConfirmation?i||(i=ts(),i.c(),i.m(n,r)):i&&(i.d(1),i=null),u[2].inProgress?a?h&4&&K(a,1):(a=ns(),a.c(),K(a,1),a.m(n,s)):a&&(Oe(),te(a,1,1,()=>{a=null}),Be()),u[3]?c?c.p(u,h):(c=rs(u),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i(u){l||(K(a),l=!0)},o(u){te(a),l=!1},d(u){u&&m(t),i&&i.d(),a&&a.d(),c&&c.d()}}}function ts(o){let t;return{c(){t=x("Please check and approve the transaction in your wallet.")},l(n){t=q(n,"Please check and approve the transaction in your wallet.")},m(n,r){j(n,t,r)},d(n){n&&m(t)}}}function ns(o){let t,n,r;return n=new an({}),{c(){t=S("div"),xe(n.$$.fragment),this.h()},l(s){t=P(s,"DIV",{class:!0});var l=N(t);qe(n.$$.fragment,l),l.forEach(m),this.h()},h(){d(t,"class","self-center")},m(s,l){j(s,t,l),We(n,t,null),r=!0},i(s){r||(K(n.$$.fragment,s),r=!0)},o(s){te(n.$$.fragment,s),r=!1},d(s){s&&m(t),Ge(n)}}}function rs(o){let t,n,r=o[3].message+"",s;return{c(){t=S("div"),n=S("p"),s=x(r),this.h()},l(l){t=P(l,"DIV",{class:!0});var i=N(t);n=P(i,"P",{class:!0});var a=N(n);s=q(a,r),a.forEach(m),i.forEach(m),this.h()},h(){d(n,"class","text-red-500 font-semibold"),d(t,"class","self-center")},m(l,i){j(l,t,i),g(t,n),g(n,s)},p(l,i){i&8&&r!==(r=l[3].message+"")&&he(s,r)},d(l){l&&m(t)}}}function ss(o){let t,n,r,s,l,i,a;return{c(){t=S("div"),n=S("button"),r=fe("svg"),s=fe("path"),l=x(`
        REMOVE`),this.h()},l(c){t=P(c,"DIV",{class:!0});var u=N(t);n=P(u,"BUTTON",{class:!0});var h=N(n);r=de(h,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var f=N(r);s=de(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(s).forEach(m),f.forEach(m),l=q(h,`
        REMOVE`),h.forEach(m),u.forEach(m),this.h()},h(){d(s,"stroke-linecap","round"),d(s,"stroke-linejoin","round"),d(s,"stroke-width","2"),d(s,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),d(r,"class","w-6 h-6 mr-1"),d(r,"fill","none"),d(r,"stroke","currentColor"),d(r,"viewBox","0 0 24 24"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(n,"class","btn btn-xl glass bg-error"),d(t,"class","flex justify-center")},m(c,u){j(c,t,u),g(t,n),g(n,r),g(r,s),g(n,l),i||(a=le(n,"click",o[16]),i=!0)},p:ge,d(c){c&&m(t),i=!1,a()}}}function Hl(o){let t,n,r=o[0]&&o[1]&&Qr(o);return{c(){r&&r.c(),t=Se()},l(s){r&&r.l(s),t=Se()},m(s,l){r&&r.m(s,l),j(s,t,l),n=!0},p(s,[l]){s[0]&&s[1]?r?(r.p(s,l),l&3&&K(r,1)):(r=Qr(s),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Oe(),te(r,1,1,()=>{r=null}),Be())},i(s){n||(K(r),n=!0)},o(s){te(r),n=!1},d(s){r&&r.d(s),s&&m(t)}}}function xl(o,t,n){let r,s,l,i,{facet:a=void 0}=t,{address:c}=t,{network:u}=t,{showModal:h=!1}=t,f=null,_={};const p={Add:0,Replace:1,Remove:2},{wallet:b,builtin:w,flow:B,transactions:k,chain:y}=qt({});je(o,b,v=>n(5,r=v)),je(o,w,v=>n(6,i=v)),je(o,B,v=>n(2,s=v)),je(o,k,v=>n(17,l=v));const I=new Dn(["function diamondCut(tuple(address facetAddress, uint8 action, bytes4[] functionSelectors)[],address initAddress, bytes callData) external"]),C=async(v="builtin")=>{try{await b.connect(v),await y.updateContracts({chainId:Rt[u].chainId,contracts:{facet:{address:c,abi:I.fragments.map(O=>O)}}})}catch{b.acknowledgeError(),await b.disconnect()}},D=async()=>{n(0,h=!1),n(3,f=null),b.disconnect(),l.forEach(v=>k.acknowledge(v.hash,v.status)),L()};let L=y.subscribe(async v=>{!r.disconnecting&&v.chainId&&Rt[u].chainId!==v.chainId&&(await b.disconnect(),alert(`Invalid network. Pleae connect to ${u}.`))});Pn(()=>{n(3,f=null),L()});const T=()=>C(),R=()=>B.execute(v=>v.facet.diamondCut(..._));return o.$$set=v=>{"facet"in v&&n(1,a=v.facet),"address"in v&&n(13,c=v.address),"network"in v&&n(14,u=v.network),"showModal"in v&&n(0,h=v.showModal)},o.$$.update=()=>{o.$$.dirty&2&&a&&n(4,_=[[{facetAddress:nn,action:p.Remove,functionSelectors:a.methods.map(v=>v.selector)}],nn,"0x"]),o.$$.dirty&4&&s.executionError&&(n(3,f=s.executionError),B.cancel(),b.acknowledgeError())},[h,a,s,f,_,r,i,b,w,B,k,C,D,c,u,T,R]}class ql extends at{constructor(t){super(),ct(this,t,xl,Hl,ut,{facet:1,address:13,network:14,showModal:0})}}function os(o,t,n){const r=o.slice();return r[31]=t[n],r}function ls(o){let t,n,r,s,l,i,a,c,u,h,f,_,p,b,w,B,k,y=o[5]&&is(o);const I=[Gl,Wl],C=[];function D(L,T){return L[9].state!=="Ready"?0:1}return c=D(o),u=C[c]=I[c](o),{c(){t=S("div"),n=S("div"),r=S("div"),s=S("h3"),l=x("Add New Facet"),i=F(),y&&y.c(),a=F(),u.c(),h=F(),f=S("div"),_=S("div"),p=S("button"),b=x("Close"),this.h()},l(L){t=P(L,"DIV",{class:!0});var T=N(t);n=P(T,"DIV",{class:!0});var R=N(n);r=P(R,"DIV",{class:!0});var v=N(r);s=P(v,"H3",{class:!0});var O=N(s);l=q(O,"Add New Facet"),O.forEach(m),i=H(v),y&&y.l(v),v.forEach(m),a=H(R),u.l(R),h=H(R),f=P(R,"DIV",{class:!0});var U=N(f);_=P(U,"DIV",{class:!0});var M=N(_);p=P(M,"BUTTON",{class:!0});var E=N(p);b=q(E,"Close"),E.forEach(m),M.forEach(m),U.forEach(m),R.forEach(m),T.forEach(m),this.h()},h(){d(s,"class","text-2xl font-medium leading-6 mb-5"),d(r,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"),d(p,"class","btn btn-sm glass bg-primary"),d(_,"class","flex rounded-md w-full justify-center"),d(f,"class","mt-5 sm:mt-6"),d(n,"class","rounded-box bg-base-300 p-10 w-2/3"),d(t,"class","flex justify-center")},m(L,T){j(L,t,T),g(t,n),g(n,r),g(r,s),g(s,l),g(r,i),y&&y.m(r,null),g(n,a),C[c].m(n,null),g(n,h),g(n,f),g(f,_),g(_,p),g(p,b),w=!0,B||(k=le(p,"click",o[17]),B=!0)},p(L,T){L[5]?y?y.p(L,T):(y=is(L),y.c(),y.m(r,null)):y&&(y.d(1),y=null);let R=c;c=D(L),c===R?C[c].p(L,T):(Oe(),te(C[R],1,1,()=>{C[R]=null}),Be(),u=C[c],u?u.p(L,T):(u=C[c]=I[c](L),u.c()),K(u,1),u.m(n,h))},i(L){w||(K(u),w=!0)},o(L){te(u),w=!1},d(L){L&&m(t),y&&y.d(),C[c].d(),B=!1,k()}}}function is(o){let t,n,r,s,l,i,a;return{c(){t=S("div"),n=S("div"),r=S("span"),s=x("\u{1F6D1}"),l=F(),i=S("label"),a=x(o[5]),this.h()},l(c){t=P(c,"DIV",{class:!0});var u=N(t);n=P(u,"DIV",{class:!0});var h=N(n);r=P(h,"SPAN",{class:!0});var f=N(r);s=q(f,"\u{1F6D1}"),f.forEach(m),l=H(h),i=P(h,"LABEL",{for:!0});var _=N(i);a=q(_,o[5]),_.forEach(m),h.forEach(m),u.forEach(m),this.h()},h(){d(r,"class","text-2xl mr-2"),d(i,"for",""),d(n,"class","flex-1"),d(t,"class","alert alert-error mt-2")},m(c,u){j(c,t,u),g(t,n),g(n,r),g(r,s),g(n,l),g(n,i),g(i,a)},p(c,u){u[0]&32&&he(a,c[5])},d(c){c&&m(t)}}}function Wl(o){let t,n,r,s=!o[2]&&as(o),l=o[2]&&cs(o);return{c(){s&&s.c(),t=F(),l&&l.c(),n=Se()},l(i){s&&s.l(i),t=H(i),l&&l.l(i),n=Se()},m(i,a){s&&s.m(i,a),j(i,t,a),l&&l.m(i,a),j(i,n,a),r=!0},p(i,a){i[2]?s&&(s.d(1),s=null):s?s.p(i,a):(s=as(i),s.c(),s.m(t.parentNode,t)),i[2]?l?(l.p(i,a),a[0]&4&&K(l,1)):(l=cs(i),l.c(),K(l,1),l.m(n.parentNode,n)):l&&(Oe(),te(l,1,1,()=>{l=null}),Be())},i(i){r||(K(l),r=!0)},o(i){te(l),r=!1},d(i){s&&s.d(i),i&&m(t),l&&l.d(i),i&&m(n)}}}function Gl(o){let t,n=o[10].available&&ms(o);return{c(){t=S("div"),n&&n.c(),this.h()},l(r){t=P(r,"DIV",{class:!0});var s=N(t);n&&n.l(s),s.forEach(m),this.h()},h(){d(t,"class","container flex justify-center mt-5 gap-2")},m(r,s){j(r,t,s),n&&n.m(t,null)},p(r,s){r[10].available?n?n.p(r,s):(n=ms(r),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:ge,o:ge,d(r){r&&m(t),n&&n.d()}}}function as(o){let t,n,r,s,l,i,a,c,u,h,f,_;return{c(){t=S("div"),n=S("div"),r=S("label"),s=S("span"),l=x("Facet Address"),i=F(),a=S("input"),c=F(),u=S("button"),h=x("Fetch Facet Info"),this.h()},l(p){t=P(p,"DIV",{class:!0});var b=N(t);n=P(b,"DIV",{class:!0});var w=N(n);r=P(w,"LABEL",{class:!0,for:!0});var B=N(r);s=P(B,"SPAN",{class:!0});var k=N(s);l=q(k,"Facet Address"),k.forEach(m),B.forEach(m),i=H(w),a=P(w,"INPUT",{type:!0,class:!0}),w.forEach(m),c=H(b),u=P(b,"BUTTON",{class:!0});var y=N(u);h=q(y,"Fetch Facet Info"),y.forEach(m),b.forEach(m),this.h()},h(){d(s,"class","label-text"),d(r,"class","label"),d(r,"for",""),d(a,"type","text"),d(a,"class","rounded-xl m-2 input input-primary input-bordered bg-base-200"),d(n,"class","form-control w-2/3"),d(u,"class","btn bg-primary btn-sm glass mb-4"),d(t,"class","flex items-end")},m(p,b){j(p,t,b),g(t,n),g(n,r),g(r,s),g(s,l),g(n,i),g(n,a),dt(a,o[1]),g(t,c),g(t,u),g(u,h),f||(_=[le(a,"input",o[22]),le(u,"click",o[16])],f=!0)},p(p,b){b[0]&2&&a.value!==p[1]&&dt(a,p[1])},d(p){p&&m(t),f=!1,Et(_)}}}function cs(o){let t,n,r,s,l,i,a,c,u,h,f,_,p,b,w,B,k,y,I,C,D,L,T,R,v,O,U,M=o[8],E=[];for(let z=0;z<M.length;z+=1)E[z]=us(os(o,M,z));let V=o[9].pendingUserConfirmation&&fs(),X=o[4].inProgress&&ds(),W=o[6]&&hs(o);return{c(){t=S("table"),n=S("thead"),r=S("tr"),s=S("th"),l=x("Add"),i=F(),a=S("th"),c=x("Method"),u=F(),h=S("th"),f=S("span"),_=x("Selector"),p=F();for(let z=0;z<E.length;z+=1)E[z].c();b=F(),w=S("div"),B=S("p"),V&&V.c(),k=F(),X&&X.c(),y=F(),W&&W.c(),I=F(),C=S("div"),D=S("button"),L=fe("svg"),T=fe("path"),R=x(`
              ADD FACET`),this.h()},l(z){t=P(z,"TABLE",{class:!0});var J=N(t);n=P(J,"THEAD",{});var re=N(n);r=P(re,"TR",{});var _e=N(r);s=P(_e,"TH",{});var ne=N(s);l=q(ne,"Add"),ne.forEach(m),i=H(_e),a=P(_e,"TH",{});var De=N(a);c=q(De,"Method"),De.forEach(m),u=H(_e),h=P(_e,"TH",{class:!0});var pe=N(h);f=P(pe,"SPAN",{class:!0});var we=N(f);_=q(we,"Selector"),we.forEach(m),pe.forEach(m),_e.forEach(m),re.forEach(m),p=H(J);for(let Fe=0;Fe<E.length;Fe+=1)E[Fe].l(J);J.forEach(m),b=H(z),w=P(z,"DIV",{class:!0});var ae=N(w);B=P(ae,"P",{class:!0});var Ce=N(B);V&&V.l(Ce),k=H(Ce),X&&X.l(Ce),y=H(Ce),W&&W.l(Ce),Ce.forEach(m),ae.forEach(m),I=H(z),C=P(z,"DIV",{class:!0});var ce=N(C);D=P(ce,"BUTTON",{class:!0});var Me=N(D);L=de(Me,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var rt=N(L);T=de(rt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(T).forEach(m),rt.forEach(m),R=q(Me,`
              ADD FACET`),Me.forEach(m),ce.forEach(m),this.h()},h(){d(f,"class","mr-3"),d(h,"class","text-right"),d(t,"class","table table-compact w-full"),d(B,"class","leading-5 w-full p-5"),d(w,"class","mb-2"),d(T,"stroke-linecap","round"),d(T,"stroke-linejoin","round"),d(T,"stroke-width","2"),d(T,"d","M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"),d(L,"class","w-6 h-6 mr-1"),d(L,"fill","none"),d(L,"stroke","currentColor"),d(L,"viewBox","0 0 24 24"),d(L,"xmlns","http://www.w3.org/2000/svg"),d(D,"class","btn btn-xl glass bg-primary"),d(C,"class","flex justify-center")},m(z,J){j(z,t,J),g(t,n),g(n,r),g(r,s),g(s,l),g(r,i),g(r,a),g(a,c),g(r,u),g(r,h),g(h,f),g(f,_),g(t,p);for(let re=0;re<E.length;re+=1)E[re].m(t,null);j(z,b,J),j(z,w,J),g(w,B),V&&V.m(B,null),g(B,k),X&&X.m(B,null),g(B,y),W&&W.m(B,null),j(z,I,J),j(z,C,J),g(C,D),g(D,L),g(L,T),g(D,R),v=!0,O||(U=le(D,"click",o[25]),O=!0)},p(z,J){if(J[0]&264){M=z[8];let re;for(re=0;re<M.length;re+=1){const _e=os(z,M,re);E[re]?E[re].p(_e,J):(E[re]=us(_e),E[re].c(),E[re].m(t,null))}for(;re<E.length;re+=1)E[re].d(1);E.length=M.length}z[9].pendingUserConfirmation?V||(V=fs(),V.c(),V.m(B,k)):V&&(V.d(1),V=null),z[4].inProgress?X?J[0]&16&&K(X,1):(X=ds(),X.c(),K(X,1),X.m(B,y)):X&&(Oe(),te(X,1,1,()=>{X=null}),Be()),z[6]?W?W.p(z,J):(W=hs(z),W.c(),W.m(B,null)):W&&(W.d(1),W=null)},i(z){v||(K(X),v=!0)},o(z){te(X),v=!1},d(z){z&&m(t),Qe(E,z),z&&m(b),z&&m(w),V&&V.d(),X&&X.d(),W&&W.d(),z&&m(I),z&&m(C),O=!1,U()}}}function us(o){let t,n,r,s,l,i,a=o[31].signature+"",c,u,h,f,_=o[31].selector+"",p,b,w,B;return{c(){t=S("tr"),n=S("th"),r=S("input"),l=F(),i=S("td"),c=x(a),u=F(),h=S("td"),f=S("span"),p=x(_),b=F(),this.h()},l(k){t=P(k,"TR",{});var y=N(t);n=P(y,"TH",{});var I=N(n);r=P(I,"INPUT",{type:!0}),I.forEach(m),l=H(y),i=P(y,"TD",{});var C=N(i);c=q(C,a),C.forEach(m),u=H(y),h=P(y,"TD",{class:!0});var D=N(h);f=P(D,"SPAN",{class:!0});var L=N(f);p=q(L,_),L.forEach(m),D.forEach(m),b=H(y),y.forEach(m),this.h()},h(){d(r,"type","checkbox"),r.__value=s=o[31].selector,r.value=r.__value,o[24][0].push(r),d(f,"class","badge badge-info badge-outline font-bold"),d(h,"class","text-right")},m(k,y){j(k,t,y),g(t,n),g(n,r),r.checked=~o[3].indexOf(r.__value),g(t,l),g(t,i),g(i,c),g(t,u),g(t,h),g(h,f),g(f,p),g(t,b),w||(B=le(r,"change",o[23]),w=!0)},p(k,y){y[0]&256&&s!==(s=k[31].selector)&&(r.__value=s,r.value=r.__value),y[0]&8&&(r.checked=~k[3].indexOf(r.__value)),y[0]&256&&a!==(a=k[31].signature+"")&&he(c,a),y[0]&256&&_!==(_=k[31].selector+"")&&he(p,_)},d(k){k&&m(t),o[24][0].splice(o[24][0].indexOf(r),1),w=!1,B()}}}function fs(o){let t;return{c(){t=x("Please check and approve the transaction in your wallet.")},l(n){t=q(n,"Please check and approve the transaction in your wallet.")},m(n,r){j(n,t,r)},d(n){n&&m(t)}}}function ds(o){let t,n,r;return n=new an({}),{c(){t=S("div"),xe(n.$$.fragment),this.h()},l(s){t=P(s,"DIV",{class:!0});var l=N(t);qe(n.$$.fragment,l),l.forEach(m),this.h()},h(){d(t,"class","self-center")},m(s,l){j(s,t,l),We(n,t,null),r=!0},i(s){r||(K(n.$$.fragment,s),r=!0)},o(s){te(n.$$.fragment,s),r=!1},d(s){s&&m(t),Ge(n)}}}function hs(o){let t,n,r=o[6].message+"",s;return{c(){t=S("div"),n=S("p"),s=x(r),this.h()},l(l){t=P(l,"DIV",{class:!0});var i=N(t);n=P(i,"P",{class:!0});var a=N(n);s=q(a,r),a.forEach(m),i.forEach(m),this.h()},h(){d(n,"class","text-red-500 font-semibold"),d(t,"class","self-center")},m(l,i){j(l,t,i),g(t,n),g(n,s)},p(l,i){i[0]&64&&r!==(r=l[6].message+"")&&he(s,r)},d(l){l&&m(t)}}}function ms(o){let t,n,r,s;return{c(){t=S("button"),n=x("Connect"),this.h()},l(l){t=P(l,"BUTTON",{class:!0});var i=N(t);n=q(i,"Connect"),i.forEach(m),this.h()},h(){d(t,"class","btn btn-sm glass bg-primary")},m(l,i){j(l,t,i),g(t,n),r||(s=le(t,"click",o[21]),r=!0)},p:ge,d(l){l&&m(t),r=!1,s()}}}function zl(o){let t,n,r=o[0]&&ls(o);return{c(){r&&r.c(),t=Se()},l(s){r&&r.l(s),t=Se()},m(s,l){r&&r.m(s,l),j(s,t,l),n=!0},p(s,l){s[0]?r?(r.p(s,l),l[0]&1&&K(r,1)):(r=ls(s),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Oe(),te(r,1,1,()=>{r=null}),Be())},i(s){n||(K(r),n=!0)},o(s){te(r),n=!1},d(s){r&&r.d(s),s&&m(t)}}}function Jl(o,t,n){let r,s,l,i,a="",c,{allFacets:u=[]}=t,{address:h}=t,{network:f}=t,{showModal:_=!1}=t,p="",b=null,w={},B=[],k=[];const y={Add:0,Replace:1,Remove:2},{wallet:I,builtin:C,flow:D,transactions:L,chain:T}=qt({});je(o,I,J=>n(9,r=J)),je(o,C,J=>n(10,i=J)),je(o,D,J=>n(4,s=J)),je(o,L,J=>n(26,l=J));const R=new Dn(["function diamondCut(tuple(address facetAddress, uint8 action, bytes4[] functionSelectors)[],address initAddress, bytes callData) external"]),v=async(J="builtin")=>{try{await I.connect(J),await T.updateContracts({chainId:Rt[f].chainId,contracts:{facet:{address:h,abi:R.fragments.map(re=>re)}}})}catch{I.acknowledgeError(),await I.disconnect()}},O=async()=>{if(n(5,p=""),!wo(a)){n(5,p="Invalid address.");return}if(u.map(re=>re.address.toLowerCase()).includes(a.toLowerCase())){n(5,p="Facet already exists.");return}const J=await fetch("/api/contract",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:a,network:f})});if(J.ok){const re=await J.json();if(re.abi.length){n(2,c=re),n(8,B=oo(a,re.abi));return}n(5,p="Facet is not verified.");return}n(5,p="Error fetching facet details.")},U=async()=>{n(2,c=void 0),n(5,p=""),n(1,a=""),n(0,_=!1),n(6,b=null),I.disconnect(),l.forEach(J=>L.acknowledge(J.hash,J.status)),M()};let M=T.subscribe(async J=>{!r.disconnecting&&J.chainId&&Rt[f].chainId!==J.chainId&&(await I.disconnect(),alert(`Invalid network. Pleae connect to ${f}.`))});Pn(()=>{n(6,b=null),M()});const E=[[]],V=()=>v();function X(){a=this.value,n(1,a)}function W(){k=no(E[0],this.__value,this.checked),n(3,k)}const z=()=>D.execute(J=>J.facet.diamondCut(...w));return o.$$set=J=>{"allFacets"in J&&n(18,u=J.allFacets),"address"in J&&n(19,h=J.address),"network"in J&&n(20,f=J.network),"showModal"in J&&n(0,_=J.showModal)},o.$$.update=()=>{o.$$.dirty[0]&14&&c&&(n(7,w=[[{facetAddress:a,action:y.Add,functionSelectors:k}],nn,"0x"]),console.log(k)),o.$$.dirty[0]&16&&s.executionError&&(n(6,b=s.executionError),D.cancel(),I.acknowledgeError()),o.$$.dirty[0]&16&&s.error&&(n(6,b=s.error),D.cancel(),I.acknowledgeError())},[_,a,c,k,s,p,b,w,B,r,i,I,C,D,L,v,O,U,u,h,f,V,X,W,E,z]}class Kl extends at{constructor(t){super(),ct(this,t,Jl,zl,ut,{allFacets:18,address:19,network:20,showModal:0},null,[-1,-1])}}function Xl(o){let t,n,r,s,l;return{c(){t=S("button"),n=fe("svg"),r=fe("path"),this.h()},l(i){t=P(i,"BUTTON",{class:!0});var a=N(t);n=de(a,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var c=N(n);r=de(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(r).forEach(m),c.forEach(m),a.forEach(m),this.h()},h(){d(r,"stroke-linecap","round"),d(r,"stroke-linejoin","round"),d(r,"stroke-width","2"),d(r,"d","M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"),d(n,"class","w-6 h-6"),d(n,"fill","none"),d(n,"stroke","currentColor"),d(n,"viewBox","0 0 24 24"),d(n,"xmlns","http://www.w3.org/2000/svg"),d(t,"class","btn btn-sm glass bg-accent"),t.disabled=o[0]},m(i,a){j(i,t,a),g(t,n),g(n,r),s||(l=le(t,"click",o[1]),s=!0)},p(i,[a]){a&1&&(t.disabled=i[0])},i:ge,o:ge,d(i){i&&m(t),s=!1,l()}}}function Zl(o,t,n){let r;je(o,Cs,f=>n(4,r=f));let{diamond:s}=t,l=new vo,i=[],a=!1;ro(async()=>{await l.isConnected(),i=await c(),n(0,a=await u()),console.log(i)});const c=async()=>{const f=await Zn.deterministic(l.ceramic,{controllers:[r.did],family:"louper.dev.bookmarks.document"});return f.content.bookmarks?f.content.bookmarks:[]},u=async()=>i.find(f=>f.address.toLowerCase()===s.address.toLowerCase()&&f.network.toLowerCase()===s.network.toLowerCase()),h=async()=>{if(await u())return;const f=await Zn.deterministic(l.ceramic,{controllers:[r.did],family:"louper.dev.bookmarks.document"});i.push({name:s.name,address:s.address.toLowerCase(),network:s.network.toLowerCase()}),await f.update({bookmarks:i}),n(0,a=!0)};return o.$$set=f=>{"diamond"in f&&n(2,s=f.diamond)},[a,h,s]}class Ql extends at{constructor(t){super(),ct(this,t,Zl,Xl,ut,{diamond:2})}}function gs(o,t,n){const r=o.slice();return r[23]=t[n],r}function _s(o){let t,n,r,s,l,i,a,c,u,h,f,_,p,b,w,B,k,y,I,C,D;function L(E,V){return E[0].isFinal?$l:Yl}let T=L(o),R=T(o),v=o[6]&&ps(o);B=new jl({props:{events:o[0].events,network:o[0].network,facetsToName:o[0].facetsToName}});let O=o[0].facets,U=[];for(let E=0;E<O.length;E+=1)U[E]=bs(gs(o,O,E));const M=E=>te(U[E],1,1,()=>{U[E]=null});return{c(){t=S("div"),R.c(),n=F(),r=S("div"),s=S("a"),l=fe("svg"),i=fe("path"),a=x(`
          Download ABI`),u=F(),h=S("button"),f=fe("svg"),_=fe("path"),p=x(`
          Upgrade Facet`),b=F(),v&&v.c(),w=F(),xe(B.$$.fragment),k=F(),y=S("div");for(let E=0;E<U.length;E+=1)U[E].c();this.h()},l(E){t=P(E,"DIV",{class:!0});var V=N(t);R.l(V),n=H(V),r=P(V,"DIV",{class:!0});var X=N(r);s=P(X,"A",{class:!0,download:!0,href:!0});var W=N(s);l=de(W,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var z=N(l);i=de(z,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(i).forEach(m),z.forEach(m),a=q(W,`
          Download ABI`),W.forEach(m),u=H(X),h=P(X,"BUTTON",{class:!0});var J=N(h);f=de(J,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var re=N(f);_=de(re,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(_).forEach(m),re.forEach(m),p=q(J,`
          Upgrade Facet`),J.forEach(m),b=H(X),v&&v.l(X),X.forEach(m),V.forEach(m),w=H(E),qe(B.$$.fragment,E),k=H(E),y=P(E,"DIV",{class:!0});var _e=N(y);for(let ne=0;ne<U.length;ne+=1)U[ne].l(_e);_e.forEach(m),this.h()},h(){d(i,"stroke-linecap","round"),d(i,"stroke-linejoin","round"),d(i,"stroke-width","2"),d(i,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),d(l,"class","w-4 h-4 mr-2"),d(l,"fill","none"),d(l,"stroke","currentColor"),d(l,"viewBox","0 0 24 24"),d(l,"xmlns","http://www.w3.org/2000/svg"),d(s,"class","btn btn-sm glass bg-secondary"),d(s,"download","abi.json"),d(s,"href",c=`data:application/octet-stream,${encodeURI(JSON.stringify(o[0].abi))}`),d(_,"stroke-linecap","round"),d(_,"stroke-linejoin","round"),d(_,"stroke-width","2"),d(_,"d","M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"),d(f,"class","w-4 h-4 mr-1"),d(f,"fill","none"),d(f,"stroke","currentColor"),d(f,"viewBox","0 0 24 24"),d(f,"xmlns","http://www.w3.org/2000/svg"),d(h,"class","btn btn-sm glass bg-primary"),d(r,"class","flex justify-between gap-2"),d(t,"class","flex justify-between"),d(y,"class","grid lg:grid-cols-2 gap-3")},m(E,V){j(E,t,V),R.m(t,null),g(t,n),g(t,r),g(r,s),g(s,l),g(l,i),g(s,a),g(r,u),g(r,h),g(h,f),g(f,_),g(h,p),g(r,b),v&&v.m(r,null),j(E,w,V),We(B,E,V),j(E,k,V),j(E,y,V);for(let X=0;X<U.length;X+=1)U[X].m(y,null);I=!0,C||(D=le(h,"click",o[10]),C=!0)},p(E,V){T!==(T=L(E))&&(R.d(1),R=T(E),R&&(R.c(),R.m(t,n))),(!I||V&1&&c!==(c=`data:application/octet-stream,${encodeURI(JSON.stringify(E[0].abi))}`))&&d(s,"href",c),E[6]?v?(v.p(E,V),V&64&&K(v,1)):(v=ps(E),v.c(),K(v,1),v.m(r,null)):v&&(Oe(),te(v,1,1,()=>{v=null}),Be());const X={};if(V&1&&(X.events=E[0].events),V&1&&(X.network=E[0].network),V&1&&(X.facetsToName=E[0].facetsToName),B.$set(X),V&47){O=E[0].facets;let W;for(W=0;W<O.length;W+=1){const z=gs(E,O,W);U[W]?(U[W].p(z,V),K(U[W],1)):(U[W]=bs(z),U[W].c(),K(U[W],1),U[W].m(y,null))}for(Oe(),W=O.length;W<U.length;W+=1)M(W);Be()}},i(E){if(!I){K(v),K(B.$$.fragment,E);for(let V=0;V<O.length;V+=1)K(U[V]);I=!0}},o(E){te(v),te(B.$$.fragment,E),U=U.filter(Boolean);for(let V=0;V<U.length;V+=1)te(U[V]);I=!1},d(E){E&&m(t),R.d(),v&&v.d(),E&&m(w),Ge(B,E),E&&m(k),E&&m(y),Qe(U,E),C=!1,D()}}}function Yl(o){let t,n;return{c(){t=S("div"),n=x("Upgradable"),this.h()},l(r){t=P(r,"DIV",{class:!0});var s=N(t);n=q(s,"Upgradable"),s.forEach(m),this.h()},h(){d(t,"class","badge badge-warning badge-lg")},m(r,s){j(r,t,s),g(t,n)},d(r){r&&m(t)}}}function $l(o){let t,n;return{c(){t=S("div"),n=x("Final"),this.h()},l(r){t=P(r,"DIV",{class:!0});var s=N(t);n=q(s,"Final"),s.forEach(m),this.h()},h(){d(t,"class","badge badge-success badge-lg")},m(r,s){j(r,t,s),g(t,n)},d(r){r&&m(t)}}}function ps(o){let t,n;return t=new Ql({props:{diamond:o[0]}}),{c(){xe(t.$$.fragment)},l(r){qe(t.$$.fragment,r)},m(r,s){We(t,r,s),n=!0},p(r,s){const l={};s&1&&(l.diamond=r[0]),t.$set(l)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){te(t.$$.fragment,r),n=!1},d(r){Ge(t,r)}}}function bs(o){let t,n,r,s,l,i;function a(_){o[11](_)}function c(_){o[12](_)}function u(_){o[13](_)}function h(_){o[14](_)}let f={facet:o[23],diamond:o[0]};return o[5]!==void 0&&(f.activeFacet=o[5]),o[1]!==void 0&&(f.showReadContract=o[1]),o[2]!==void 0&&(f.showWriteContract=o[2]),o[3]!==void 0&&(f.showRemoveFacet=o[3]),t=new Mo({props:f}),Ke.push(()=>$e(t,"activeFacet",a)),Ke.push(()=>$e(t,"showReadContract",c)),Ke.push(()=>$e(t,"showWriteContract",u)),Ke.push(()=>$e(t,"showRemoveFacet",h)),{c(){xe(t.$$.fragment)},l(_){qe(t.$$.fragment,_)},m(_,p){We(t,_,p),i=!0},p(_,p){const b={};p&1&&(b.facet=_[23]),p&1&&(b.diamond=_[0]),!n&&p&32&&(n=!0,b.activeFacet=_[5],et(()=>n=!1)),!r&&p&2&&(r=!0,b.showReadContract=_[1],et(()=>r=!1)),!s&&p&4&&(s=!0,b.showWriteContract=_[2],et(()=>s=!1)),!l&&p&8&&(l=!0,b.showRemoveFacet=_[3],et(()=>l=!1)),t.$set(b)},i(_){i||(K(t.$$.fragment,_),i=!0)},o(_){te(t.$$.fragment,_),i=!1},d(_){Ge(t,_)}}}function ei(o){let t,n,r,s,l,i,a=(o[0].name||"UNKNOWN")+"",c,u,h,f,_=o[0].address+"",p,b,w,B,k,y,I,C,D,L,T,R,v,O,U,M,E,V,X,W,z,J,re,_e;document.title=t="Louper - "+(o[0].name||"UNKNOWN"),s=new io({props:{address:o[0].address,network:o[0].network}});let ne=!o[1]&&!o[2]&&!o[4]&&!o[3]&&_s(o);function De(A){o[15](A)}function pe(A){o[16](A)}let we={address:o[0].address,network:o[0].network};o[1]!==void 0&&(we.showModal=o[1]),o[5]!==void 0&&(we.facet=o[5]),C=new tl({props:we}),Ke.push(()=>$e(C,"showModal",De)),Ke.push(()=>$e(C,"facet",pe));function ae(A){o[17](A)}function Ce(A){o[18](A)}let ce={address:o[0].address,network:o[0].network};o[2]!==void 0&&(ce.showModal=o[2]),o[5]!==void 0&&(ce.facet=o[5]),R=new Ul({props:ce}),Ke.push(()=>$e(R,"showModal",ae)),Ke.push(()=>$e(R,"facet",Ce));function Me(A){o[19](A)}function rt(A){o[20](A)}let Fe={address:o[0].address,network:o[0].network};o[3]!==void 0&&(Fe.showModal=o[3]),o[5]!==void 0&&(Fe.facet=o[5]),M=new ql({props:Fe}),Ke.push(()=>$e(M,"showModal",Me)),Ke.push(()=>$e(M,"facet",rt));function mt(A){o[21](A)}let gt={allFacets:o[0].facets,address:o[0].address,network:o[0].network};return o[4]!==void 0&&(gt.showModal=o[4]),W=new Kl({props:gt}),Ke.push(()=>$e(W,"showModal",mt)),{c(){n=F(),r=S("div"),xe(s.$$.fragment),l=F(),i=S("h1"),c=x(a),u=F(),h=S("div"),f=S("div"),p=x(_),b=F(),w=fe("svg"),B=fe("path"),k=fe("path"),y=F(),ne&&ne.c(),I=F(),xe(C.$$.fragment),T=F(),xe(R.$$.fragment),U=F(),xe(M.$$.fragment),X=F(),xe(W.$$.fragment),this.h()},l(A){so('[data-svelte="svelte-1x68k0y"]',document.head).forEach(m),n=H(A),r=P(A,"DIV",{class:!0});var se=N(r);qe(s.$$.fragment,se),l=H(se),i=P(se,"H1",{class:!0});var Te=N(i);c=q(Te,a),Te.forEach(m),u=H(se),h=P(se,"DIV",{class:!0});var ke=N(h);f=P(ke,"DIV",{class:!0});var ze=N(f);p=q(ze,_),b=H(ze),w=de(ze,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var He=N(w);B=de(He,"path",{d:!0}),N(B).forEach(m),k=de(He,"path",{d:!0}),N(k).forEach(m),He.forEach(m),ze.forEach(m),ke.forEach(m),y=H(se),ne&&ne.l(se),I=H(se),qe(C.$$.fragment,se),T=H(se),qe(R.$$.fragment,se),U=H(se),qe(M.$$.fragment,se),X=H(se),qe(W.$$.fragment,se),se.forEach(m),this.h()},h(){d(i,"class","text-4xl text-center"),d(B,"d","M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"),d(k,"d","M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"),d(w,"class","w-3 h-3 md:w-4 md:h-4 inline ml-2"),d(w,"fill","currentColor"),d(w,"viewBox","0 0 20 20"),d(w,"xmlns","http://www.w3.org/2000/svg"),d(f,"class","badge badge-info p-3 cursor-pointer text-xs lg:text-base"),d(h,"class","flex justify-center"),d(r,"class","flex flex-col w-full space-y-10 my-5 mx-auto")},m(A,Q){j(A,n,Q),j(A,r,Q),We(s,r,null),g(r,l),g(r,i),g(i,c),g(r,u),g(r,h),g(h,f),g(f,p),g(f,b),g(f,w),g(w,B),g(w,k),g(r,y),ne&&ne.m(r,null),g(r,I),We(C,r,null),g(r,T),We(R,r,null),g(r,U),We(M,r,null),g(r,X),We(W,r,null),J=!0,re||(_e=le(f,"click",o[9]),re=!0)},p(A,[Q]){(!J||Q&1)&&t!==(t="Louper - "+(A[0].name||"UNKNOWN"))&&(document.title=t);const se={};Q&1&&(se.address=A[0].address),Q&1&&(se.network=A[0].network),s.$set(se),(!J||Q&1)&&a!==(a=(A[0].name||"UNKNOWN")+"")&&he(c,a),(!J||Q&1)&&_!==(_=A[0].address+"")&&he(p,_),!A[1]&&!A[2]&&!A[4]&&!A[3]?ne?(ne.p(A,Q),Q&30&&K(ne,1)):(ne=_s(A),ne.c(),K(ne,1),ne.m(r,I)):ne&&(Oe(),te(ne,1,1,()=>{ne=null}),Be());const Te={};Q&1&&(Te.address=A[0].address),Q&1&&(Te.network=A[0].network),!D&&Q&2&&(D=!0,Te.showModal=A[1],et(()=>D=!1)),!L&&Q&32&&(L=!0,Te.facet=A[5],et(()=>L=!1)),C.$set(Te);const ke={};Q&1&&(ke.address=A[0].address),Q&1&&(ke.network=A[0].network),!v&&Q&4&&(v=!0,ke.showModal=A[2],et(()=>v=!1)),!O&&Q&32&&(O=!0,ke.facet=A[5],et(()=>O=!1)),R.$set(ke);const ze={};Q&1&&(ze.address=A[0].address),Q&1&&(ze.network=A[0].network),!E&&Q&8&&(E=!0,ze.showModal=A[3],et(()=>E=!1)),!V&&Q&32&&(V=!0,ze.facet=A[5],et(()=>V=!1)),M.$set(ze);const He={};Q&1&&(He.allFacets=A[0].facets),Q&1&&(He.address=A[0].address),Q&1&&(He.network=A[0].network),!z&&Q&16&&(z=!0,He.showModal=A[4],et(()=>z=!1)),W.$set(He)},i(A){J||(K(s.$$.fragment,A),K(ne),K(C.$$.fragment,A),K(R.$$.fragment,A),K(M.$$.fragment,A),K(W.$$.fragment,A),J=!0)},o(A){te(s.$$.fragment,A),te(ne),te(C.$$.fragment,A),te(R.$$.fragment,A),te(M.$$.fragment,A),te(W.$$.fragment,A),J=!1},d(A){A&&m(n),A&&m(r),Ge(s),ne&&ne.d(),Ge(C),Ge(R),Ge(M),Ge(W),re=!1,_e()}}}const ui=async({params:o,url:t,fetch:n})=>{console.log("Fetching diamond details...");const r=await new Fl(o.address,t.searchParams.get("network")||"mainnet",n).fetchContractDetails();return console.log("Diamond details fetched..."),{props:{diamond:r}}};function ti(o,t,n){let r,s;je(o,Cs,O=>n(6,s=O));const{addNotification:l}=lo();let{diamond:i}=t,a=!1,c=!1,u=!1,h=!1,f=null,{transactions:_}=qt({});je(o,_,O=>n(8,r=O));const p=()=>window.open(tn(i.address,i.network)),b=()=>n(4,h=!0);function w(O){f=O,n(5,f)}function B(O){a=O,n(1,a)}function k(O){c=O,n(2,c)}function y(O){u=O,n(3,u)}function I(O){a=O,n(1,a)}function C(O){f=O,n(5,f)}function D(O){c=O,n(2,c)}function L(O){f=O,n(5,f)}function T(O){u=O,n(3,u)}function R(O){f=O,n(5,f)}function v(O){h=O,n(4,h)}return o.$$set=O=>{"diamond"in O&&n(0,i=O.diamond)},o.$$.update=()=>{if(o.$$.dirty&1&&i&&qt({builtin:{autoProbe:!0},options:["builtin"]}),o.$$.dirty&257&&r.length)for(let O of r)O.acknowledged||(_.acknowledge(O.hash,O.status),l({text:O.hash,position:"bottom-right",status:O.status,network:i.network}))},[i,a,c,u,h,f,s,_,r,p,b,w,B,k,y,I,C,D,L,T,R,v]}class fi extends at{constructor(t){super(),ct(this,t,ti,ei,ut,{diamond:0})}}export{fi as default,ui as load};
